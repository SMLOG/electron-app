var jsonp = require("../../common/jsonp2");
var merge = require("lodash").merge;
var interfaceFormat = require("./interfaceFormat");


  /**
   * 获取url变量
   * 
   * @param {any} name 变量名
   */
   function getParam(name){
    var urlpara = location.search;
    var par = {};
    if (urlpara != "") {
      urlpara = urlpara.substring(1, urlpara.length);
      var para = urlpara.split("&");
      var parname;
      var parvalue;
      for (var i = 0; i < para.length; i++) {
        parname = para[i].substring(0, para[i].indexOf("="));
        parvalue = para[i].substring(para[i].indexOf("=") + 1, para[i].length);
        par[parname] = parvalue;
      }
    }
    if(typeof (par[name]) != "undefined"){
      return par[name];
    }
    else{
      return null;
    }
  }

function getData(chart, ops) {
    ops = ops || {};
    var _this = this;
    var code = chart.option.code;
    var token = chart.option.token;

    var callback = chart.__onDataSuccess

    var url = "//push2.eastmoney.com/api/qt/stock/trends2/get";
    // var url = "http://push2.eastmoney.com/api/qt/stock/trends2/get";
        var methodName = "cb_" + new Date().getTime() + "_" + Math.floor(Math.random() * 99999999);
        var dft = {
            secid: ops.id,
            fields1: "f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f11,f12,f13",
            fields2: "f51,f52,f53,f54,f55,f56,f57,f58",
            ut: ops.ut,
            iscr: 0,
            cb: methodName
        }

        var data = merge(dft, ops)

        if (!data.id) {
            delete data.id;
        }
        if (!data.sc) {
            delete data.sc;
        }
        if (!data.sm) {
            delete data.sm;
        }
        if (!data.secid) {
            delete data.secid;
        }
        
        // console.log("00000000000000000");
        // console.log(data);
        // console.info(url)
        // console.info(ops)

        if (ops.isqhquote) {
            url = 'http://futsse.eastmoney.com/static/rtdata/' + data.secid.replace('.', '_')

            if (getParam('env') == 'test') {
                url = 'http://futssetest.eastmoney.com/static/rtdata/' + data.secid.replace('.', '_')
            }
            //url = 'http://172.31.29.12:8091/static/rtdata/' + data.secid.replace('.', '_')
            //methodName = 'futssetdata'
            data.callbackName = methodName          
        }



        jsonp(url, data, methodName, function (json) {
            // console.info(1111111111111)
            // console.info(json)
            // json.data.beticks = "75600|75600|140400|75600|90000|90000|95400|118800|123300|124200|127800|135000|140400"
            // console.log("cccccccccccc");
            //var json2 = {"rc":0,"rt":10,"svr":183019523,"lt":1,"full":1,"data":{"code":"130121","market":8,"type":169,"status":0,"name":"TS下季连续","decimal":3,"preSettlement":99.975,"preClose":99.985,"beticks":"33000|33300|54900|33300|41400|46800|54900","trendsTotal":271,"time":1572939170,"kind":16,"prePrice":99.975,"trends":["2019-11-05 09:15,99.945,99.985,99.985,99.945,0,0.000,99.9850","2019-11-05 09:16,99.985,99.985,99.985,99.985,0,0.000,99.9850","2019-11-05 09:17,99.945,99.945,99.945,99.945,2,3997799.000,99.9450","2019-11-05 09:18,99.945,99.945,99.945,99.945,0,0.000,99.9450","2019-11-05 09:19,99.945,99.945,99.945,99.945,0,0.000,99.9450","2019-11-05 09:20,99.945,99.945,99.945,99.945,0,0.000,99.9450","2019-11-05 09:21,99.945,99.945,99.945,99.945,0,0.000,99.9450","2019-11-05 09:22,99.945,99.955,99.955,99.945,34,67969400.000,99.9540","2019-11-05 09:23,99.955,99.955,99.955,99.955,0,0.000,99.9540","2019-11-05 09:24,99.955,99.955,99.955,99.955,0,0.000,99.9540","2019-11-05 09:25,99.955,99.955,99.955,99.955,0,0.000,99.9540","2019-11-05 09:26,99.955,99.955,99.955,99.955,40,79964000.000,99.9550","2019-11-05 09:27,99.955,99.955,99.955,99.950,22,43980000.000,99.9550","2019-11-05 09:28,99.950,99.955,99.955,99.950,54,107946500.000,99.9530","2019-11-05 09:29,99.955,99.950,99.955,99.950,114,227886000.000,99.9520","2019-11-05 09:30,99.950,99.950,99.950,99.950,0,0.000,99.9520","2019-11-05 09:31,99.950,99.950,99.950,99.950,0,0.000,99.9520","2019-11-05 09:32,99.950,99.950,99.950,99.950,0,0.000,99.9520","2019-11-05 09:33,99.950,99.950,99.950,99.950,0,0.000,99.9520","2019-11-05 09:34,99.950,99.950,99.950,99.950,0,0.000,99.9520","2019-11-05 09:35,99.950,99.950,99.950,99.950,0,0.000,99.9520","2019-11-05 09:36,99.950,99.950,99.950,99.950,0,0.000,99.9520","2019-11-05 09:37,99.950,99.950,99.950,99.950,24,47976000.000,99.9520","2019-11-05 09:38,99.950,99.950,99.950,99.950,50,99950000.000,99.9510","2019-11-05 09:39,99.950,99.950,99.950,99.950,0,0.000,99.9510","2019-11-05 09:40,99.950,99.955,99.955,99.950,70,139930200.000,99.9510","2019-11-05 09:41,99.955,99.950,99.955,99.950,1,1999000.000,99.9510","2019-11-05 09:42,99.950,99.950,99.950,99.950,0,0.000,99.9510","2019-11-05 09:43,99.950,99.950,99.950,99.950,0,0.000,99.9510","2019-11-05 09:44,99.950,99.950,99.950,99.950,0,0.000,99.9510","2019-11-05 09:45,99.950,99.955,99.955,99.950,2,3998200.000,99.9510","2019-11-05 09:46,99.955,99.955,99.955,99.955,0,0.000,99.9510","2019-11-05 09:47,99.955,99.975,99.975,99.955,114,227919400.000,99.9540","2019-11-05 09:48,99.975,100.020,100.020,99.975,97,193979700.000,99.9600","2019-11-05 09:49,100.025,100.035,100.035,100.025,22,44013900.000,99.9620","2019-11-05 09:50,100.035,100.090,100.090,100.035,5,10006900.000,99.9630","2019-11-05 09:51,100.090,100.085,100.090,100.085,1,2001700.000,99.9630","2019-11-05 09:52,100.085,100.050,100.085,100.050,4,8004000.000,99.9640","2019-11-05 09:53,100.050,100.045,100.050,100.045,30,60027700.000,99.9670","2019-11-05 09:54,100.045,100.050,100.055,100.045,16,32015800.000,99.9690","2019-11-05 09:55,100.050,100.055,100.055,100.050,10,20011000.000,99.9700","2019-11-05 09:56,100.055,100.055,100.055,100.055,0,0.000,99.9700","2019-11-05 09:57,100.055,100.045,100.055,100.045,11,22010000.000,99.9710","2019-11-05 09:58,100.045,100.040,100.045,100.040,1,2000800.000,99.9720","2019-11-05 09:59,100.040,100.050,100.050,100.040,48,96045000.000,99.9760","2019-11-05 10:00,100.050,100.045,100.050,100.045,1,2000900.000,99.9760","2019-11-05 10:01,100.050,100.050,100.050,100.050,10,20010000.000,99.9770","2019-11-05 10:02,100.050,100.050,100.050,100.050,0,0.000,99.9770","2019-11-05 10:03,100.050,100.050,100.050,100.050,0,0.000,99.9770","2019-11-05 10:04,100.050,100.050,100.050,100.050,4,8004000.000,99.9780","2019-11-05 10:05,100.050,100.050,100.050,100.050,0,0.000,99.9780","2019-11-05 10:06,100.050,100.050,100.050,100.050,0,0.000,99.9780","2019-11-05 10:07,100.050,100.060,100.060,100.050,7,14007900.000,99.9780","2019-11-05 10:08,100.060,100.060,100.060,100.060,5,10006000.000,99.9790","2019-11-05 10:09,100.060,100.060,100.060,100.060,0,0.000,99.9790","2019-11-05 10:10,100.060,100.070,100.070,100.060,13,26017700.000,99.9800","2019-11-05 10:11,100.070,100.070,100.070,100.070,0,0.000,99.9800","2019-11-05 10:12,100.070,100.070,100.070,100.070,0,0.000,99.9800","2019-11-05 10:13,100.070,100.065,100.070,100.065,2,4002600.000,99.9800","2019-11-05 10:14,100.065,100.065,100.065,100.065,9,18011700.000,99.9810","2019-11-05 10:15,100.065,100.065,100.065,100.065,16,32020800.000,99.9830","2019-11-05 10:16,100.065,100.065,100.065,100.065,6,12007800.000,99.9840","2019-11-05 10:17,100.065,100.070,100.070,100.065,3,6004000.000,99.9840","2019-11-05 10:18,100.070,100.075,100.075,100.070,2,4003000.000,99.9840","2019-11-05 10:19,100.075,100.075,100.075,100.075,0,0.000,99.9840","2019-11-05 10:20,100.075,100.075,100.075,100.075,0,0.000,99.9840","2019-11-05 10:21,100.075,100.075,100.075,100.075,0,0.000,99.9840","2019-11-05 10:22,100.075,100.075,100.075,100.075,0,0.000,99.9840","2019-11-05 10:23,100.075,100.070,100.075,100.065,11,22014800.000,99.9850","2019-11-05 10:24,100.070,100.070,100.070,100.070,0,0.000,99.9850","2019-11-05 10:25,100.070,100.070,100.070,100.070,0,0.000,99.9850","2019-11-05 10:26,100.070,100.070,100.070,100.070,3,6004200.000,99.9850","2019-11-05 10:27,100.070,100.070,100.070,100.070,0,0.000,99.9850","2019-11-05 10:28,100.070,100.070,100.070,100.070,0,0.000,99.9850","2019-11-05 10:29,100.070,100.075,100.075,100.070,15,30022500.000,99.9870","2019-11-05 10:30,100.075,100.085,100.085,100.075,18,36029000.000,99.9890","2019-11-05 10:31,100.085,100.090,100.090,100.085,15,30026500.000,99.9900","2019-11-05 10:32,100.090,100.090,100.095,100.090,7,14012700.000,99.9910","2019-11-05 10:33,100.090,100.090,100.090,100.085,11,22019000.000,99.9920","2019-11-05 10:34,100.090,100.090,100.090,100.090,1,2001800.000,99.9920","2019-11-05 10:35,100.090,100.090,100.090,100.090,0,0.000,99.9920","2019-11-05 10:36,100.085,100.085,100.090,100.085,9,18015400.000,99.9930","2019-11-05 10:37,100.085,100.090,100.090,100.085,6,12010300.000,99.9940","2019-11-05 10:38,100.090,100.090,100.090,100.090,12,24021600.000,99.9950","2019-11-05 10:39,100.090,100.100,100.100,100.090,11,22021400.000,99.9960","2019-11-05 10:40,100.100,100.100,100.100,100.100,0,0.000,99.9960","2019-11-05 10:41,100.100,100.100,100.100,100.100,5,10010000.000,99.9970","2019-11-05 10:42,100.100,100.100,100.100,100.100,0,0.000,99.9970","2019-11-05 10:43,100.100,100.100,100.100,100.100,0,0.000,99.9970","2019-11-05 10:44,100.100,100.105,100.105,100.100,1,2002100.000,99.9970","2019-11-05 10:45,100.105,100.105,100.105,100.105,0,0.000,99.9970","2019-11-05 10:46,100.105,100.105,100.105,100.105,0,0.000,99.9970","2019-11-05 10:47,100.105,100.105,100.105,100.105,0,0.000,99.9970","2019-11-05 10:48,100.105,100.105,100.105,100.105,0,0.000,99.9970","2019-11-05 10:49,100.105,100.105,100.105,100.105,0,0.000,99.9970","2019-11-05 10:50,100.105,100.100,100.105,100.100,4,8008000.000,99.9970","2019-11-05 10:51,100.100,100.105,100.105,100.100,17,34035300.000,99.9990","2019-11-05 10:52,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 10:53,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 10:54,100.100,100.100,100.100,100.100,1,2002000.000,99.9990","2019-11-05 10:55,100.100,100.105,100.105,100.100,1,2002100.000,99.9990","2019-11-05 10:56,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 10:57,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 10:58,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 10:59,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 11:00,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 11:01,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 11:02,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 11:03,100.105,100.105,100.105,100.105,0,0.000,99.9990","2019-11-05 11:04,100.105,100.095,100.105,100.095,12,24023800.000,100.0010","2019-11-05 11:05,100.095,100.095,100.095,100.095,0,0.000,100.0010","2019-11-05 11:06,100.095,100.095,100.095,100.095,0,0.000,100.0010","2019-11-05 11:07,100.095,100.095,100.095,100.095,0,0.000,100.0010","2019-11-05 11:08,100.095,100.095,100.095,100.095,0,0.000,100.0010","2019-11-05 11:09,100.095,100.090,100.095,100.090,25,50045000.000,100.0030","2019-11-05 11:10,100.090,100.085,100.090,100.085,10,20017000.000,100.0040","2019-11-05 11:11,100.085,100.085,100.085,100.085,0,0.000,100.0040","2019-11-05 11:12,100.085,100.085,100.085,100.085,0,0.000,100.0040","2019-11-05 11:13,100.085,100.085,100.085,100.085,0,0.000,100.0040","2019-11-05 11:14,100.085,100.085,100.085,100.085,0,0.000,100.0040","2019-11-05 11:15,100.085,100.085,100.085,100.085,0,0.000,100.0040","2019-11-05 11:16,100.085,100.085,100.085,100.085,0,0.000,100.0040","2019-11-05 11:17,100.085,100.090,100.090,100.085,14,28025200.000,100.0050","2019-11-05 11:18,100.090,100.090,100.090,100.090,6,12010800.000,100.0050","2019-11-05 11:19,100.090,100.090,100.090,100.090,0,0.000,100.0050","2019-11-05 11:20,100.090,100.090,100.090,100.090,0,0.000,100.0050","2019-11-05 11:21,100.090,100.090,100.090,100.090,0,0.000,100.0050","2019-11-05 11:22,100.090,100.090,100.090,100.090,0,0.000,100.0050","2019-11-05 11:23,100.090,100.090,100.090,100.090,77,154138600.000,100.0110","2019-11-05 11:24,100.090,100.090,100.090,100.090,0,0.000,100.0110","2019-11-05 11:25,100.090,100.090,100.090,100.090,0,0.000,100.0110","2019-11-05 11:26,100.090,100.090,100.090,100.090,0,0.000,100.0110","2019-11-05 11:27,100.090,100.085,100.090,100.085,4,8006800.000,100.0110","2019-11-05 11:28,100.085,100.080,100.085,100.080,42,84070200.000,100.0140","2019-11-05 11:29,100.080,100.080,100.080,100.080,3,6004800.000,100.0140","2019-11-05 11:30,100.080,100.080,100.080,100.080,17,34027200.000,100.0150","2019-11-05 13:01,100.080,100.080,100.080,100.080,20,40032000.000,100.0160","2019-11-05 13:02,100.080,100.080,100.080,100.080,0,0.000,100.0160","2019-11-05 13:03,100.080,100.080,100.080,100.080,0,0.000,100.0160","2019-11-05 13:04,100.080,100.080,100.080,100.080,0,0.000,100.0160","2019-11-05 13:05,100.080,100.080,100.080,100.080,4,8006400.000,100.0160","2019-11-05 13:06,100.080,100.080,100.080,100.080,5,10008000.000,100.0160","2019-11-05 13:07,100.080,100.080,100.080,100.080,0,0.000,100.0160","2019-11-05 13:08,100.080,100.080,100.080,100.080,0,0.000,100.0160","2019-11-05 13:09,100.080,100.080,100.080,100.080,0,0.000,100.0160","2019-11-05 13:10,100.080,100.080,100.080,100.080,0,0.000,100.0160","2019-11-05 13:11,100.080,100.080,100.080,100.080,5,10008000.000,100.0170","2019-11-05 13:12,100.080,100.080,100.080,100.080,5,10008000.000,100.0170","2019-11-05 13:13,100.080,100.080,100.080,100.080,3,6004800.000,100.0170","2019-11-05 13:14,100.080,100.080,100.080,100.080,0,0.000,100.0170","2019-11-05 13:15,100.080,100.085,100.085,100.080,24,48040800.000,100.0180","2019-11-05 13:16,100.085,100.085,100.085,100.085,0,0.000,100.0180","2019-11-05 13:17,100.085,100.085,100.085,100.085,8,16013600.000,100.0190","2019-11-05 13:18,100.085,100.085,100.085,100.085,0,0.000,100.0190","2019-11-05 13:19,100.085,100.085,100.085,100.085,0,0.000,100.0190","2019-11-05 13:20,100.085,100.085,100.085,100.085,0,0.000,100.0190","2019-11-05 13:21,100.085,100.085,100.085,100.085,0,0.000,100.0190","2019-11-05 13:22,100.085,100.085,100.085,100.085,0,0.000,100.0190","2019-11-05 13:23,100.085,100.085,100.085,100.085,13,26022100.000,100.0190","2019-11-05 13:24,100.085,100.085,100.085,100.085,86,172146300.000,100.0230","2019-11-05 13:25,100.085,100.085,100.085,100.085,0,0.000,100.0230","2019-11-05 13:26,100.085,100.085,100.085,100.085,0,0.000,100.0230","2019-11-05 13:27,100.085,100.085,100.085,100.085,0,0.000,100.0230","2019-11-05 13:28,100.085,100.085,100.085,100.085,0,0.000,100.0230","2019-11-05 13:29,100.085,100.090,100.090,100.085,3,6005400.000,100.0240","2019-11-05 13:30,100.090,100.090,100.090,100.090,35,70063000.000,100.0250","2019-11-05 13:31,100.090,100.090,100.090,100.090,0,0.000,100.0250","2019-11-05 13:32,100.090,100.085,100.090,100.085,30,60051000.000,100.0260","2019-11-05 13:33,100.085,100.080,100.085,100.080,25,50040000.000,100.0270","2019-11-05 13:34,100.080,100.080,100.080,100.080,25,50040000.000,100.0280","2019-11-05 13:35,100.080,100.080,100.080,100.080,0,0.000,100.0280","2019-11-05 13:36,100.080,100.080,100.080,100.080,0,0.000,100.0280","2019-11-05 13:37,100.085,100.085,100.085,100.085,16,32027200.000,100.0290","2019-11-05 13:38,100.085,100.085,100.085,100.085,5,10008500.000,100.0290","2019-11-05 13:39,100.085,100.085,100.085,100.085,0,0.000,100.0290","2019-11-05 13:40,100.085,100.085,100.085,100.085,0,0.000,100.0290","2019-11-05 13:41,100.085,100.085,100.085,100.085,0,0.000,100.0290","2019-11-05 13:42,100.085,100.085,100.085,100.085,0,0.000,100.0290","2019-11-05 13:43,100.085,100.080,100.085,100.080,53,106084800.000,100.0310","2019-11-05 13:44,100.080,100.080,100.080,100.080,5,10008000.000,100.0310","2019-11-05 13:45,100.080,100.080,100.080,100.080,0,0.000,100.0310","2019-11-05 13:46,100.080,100.080,100.080,100.080,11,22017600.000,100.0310","2019-11-05 13:47,100.080,100.085,100.085,100.080,30,60051000.000,100.0320","2019-11-05 13:48,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:49,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:50,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:51,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:52,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:53,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:54,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:55,100.085,100.085,100.085,100.085,2,4003400.000,100.0320","2019-11-05 13:56,100.085,100.085,100.085,100.085,1,2001700.000,100.0320","2019-11-05 13:57,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:58,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 13:59,100.085,100.085,100.085,100.085,1,2001700.000,100.0320","2019-11-05 14:00,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 14:01,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 14:02,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 14:03,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 14:04,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 14:05,100.085,100.085,100.085,100.085,0,0.000,100.0320","2019-11-05 14:06,100.085,100.085,100.085,100.085,3,6005100.000,100.0320","2019-11-05 14:07,100.085,100.090,100.090,100.085,3,6005400.000,100.0330","2019-11-05 14:08,100.090,100.090,100.090,100.090,3,6005400.000,100.0330","2019-11-05 14:09,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:10,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:11,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:12,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:13,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:14,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:15,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:16,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:17,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:18,100.090,100.090,100.090,100.090,0,0.000,100.0330","2019-11-05 14:19,100.090,100.090,100.090,100.090,2,4003600.000,100.0330","2019-11-05 14:20,100.090,100.095,100.095,100.090,68,136122900.000,100.0350","2019-11-05 14:21,100.095,100.100,100.100,100.095,89,178175400.000,100.0380","2019-11-05 14:22,100.100,100.095,100.100,100.095,3,6005700.000,100.0380","2019-11-05 14:23,100.095,100.100,100.100,100.095,5,10010000.000,100.0380","2019-11-05 14:24,100.100,100.100,100.100,100.100,0,0.000,100.0380","2019-11-05 14:25,100.100,100.100,100.100,100.100,0,0.000,100.0380","2019-11-05 14:26,100.100,100.100,100.100,100.100,2,4004000.000,100.0390","2019-11-05 14:27,100.100,100.100,100.100,100.100,19,38038000.000,100.0390","2019-11-05 14:28,100.100,100.100,100.100,100.100,5,10010000.000,100.0390","2019-11-05 14:29,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:30,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:31,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:32,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:33,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:34,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:35,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:36,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:37,100.100,100.100,100.100,100.100,0,0.000,100.0390","2019-11-05 14:38,100.100,100.095,100.100,100.095,1,2001900.000,100.0390","2019-11-05 14:39,100.095,100.095,100.095,100.095,0,0.000,100.0390","2019-11-05 14:40,100.095,100.100,100.100,100.095,36,72072000.000,100.0410","2019-11-05 14:41,100.100,100.100,100.100,100.100,3,6006000.000,100.0410","2019-11-05 14:42,100.100,100.105,100.105,100.100,30,60063000.000,100.0420","2019-11-05 14:43,100.105,100.105,100.105,100.100,77,154161600.000,100.0440","2019-11-05 14:44,100.105,100.105,100.105,100.105,8,16016800.000,100.0440","2019-11-05 14:45,100.105,100.105,100.105,100.105,20,40042000.000,100.0450","2019-11-05 14:46,100.105,100.105,100.105,100.105,0,0.000,100.0450","2019-11-05 14:47,100.105,100.105,100.105,100.105,13,26027300.000,100.0450","2019-11-05 14:48,100.105,100.105,100.105,100.105,0,0.000,100.0450","2019-11-05 14:49,100.105,100.105,100.105,100.105,0,0.000,100.0450","2019-11-05 14:50,100.105,100.105,100.105,100.105,0,0.000,100.0450","2019-11-05 14:51,100.105,100.105,100.105,100.105,3,6006300.000,100.0450","2019-11-05 14:52,100.105,100.105,100.105,100.105,4,8008400.000,100.0460","2019-11-05 14:53,100.105,100.110,100.110,100.105,2,4004400.000,100.0460","2019-11-05 14:54,100.110,100.110,100.110,100.110,0,0.000,100.0460","2019-11-05 14:55,100.110,100.110,100.110,100.110,14,28030800.000,100.0460","2019-11-05 14:56,100.110,100.110,100.110,100.110,0,0.000,100.0460","2019-11-05 14:57,100.110,100.110,100.115,100.105,36,72082100.000,100.0470","2019-11-05 14:58,100.110,100.110,100.110,100.110,0,0.000,100.0470","2019-11-05 14:59,100.110,100.110,100.110,100.110,0,0.000,100.0470","2019-11-05 15:00,100.110,100.110,100.110,100.110,8,16017600.000,100.0480","2019-11-05 15:01,100.110,100.110,100.110,100.110,2,4004400.000,100.0480","2019-11-05 15:02,100.110,100.110,100.110,100.110,1,2002200.000,100.0480","2019-11-05 15:03,100.110,100.110,100.110,100.110,0,0.000,100.0480","2019-11-05 15:04,100.110,100.110,100.110,100.110,0,0.000,100.0480","2019-11-05 15:05,100.110,100.110,100.110,100.110,1,2002200.000,100.0480","2019-11-05 15:06,100.110,100.110,100.110,100.110,0,0.000,100.0480","2019-11-05 15:07,100.110,100.105,100.110,100.105,2,4004200.000,100.0480","2019-11-05 15:08,100.105,100.105,100.110,100.105,69,138147900.000,100.0500","2019-11-05 15:09,100.105,100.110,100.110,100.105,22,44048400.000,100.0500","2019-11-05 15:10,100.110,100.110,100.110,100.110,40,80088000.000,100.0510","2019-11-05 15:11,100.110,100.115,100.115,100.110,2,4004500.000,100.0510","2019-11-05 15:12,100.115,100.115,100.115,100.115,0,0.000,100.0510","2019-11-05 15:13,100.115,100.115,100.115,100.115,0,0.000,100.0510","2019-11-05 15:14,100.105,100.105,100.105,100.105,2,4004200.000,100.0510","2019-11-05 15:15,100.105,100.105,100.105,100.105,0,0.000,100.0510"]}}

            // json.rt = json2.rt
            // json.data.beticks = json2.data.beticks
            //  json.data.trends = json2.data.trends
            // // json.data.time = json2.data.time

            // json.data.trends.forEach(function(v){
            //   v = v.split(',').slice(0,8).join(',').replace(/\.0/ig,'')
            //   //console.info(v)
            // })
            
            
            var result = interfaceFormat(json)

            // result.data[133] = '"2020-04-21 08:13,-0.44,0,0.000,0"'
            // result.data[134] = '"2020-04-21 08:13,-0.44,0,0.000,0"'
            // result.data[135] = '"2020-04-21 08:13,-0.44,0,0.000,0"'
            // result.data[136] = '"2020-04-21 08:13,-0.44,0,0.000,0"'


            console.log(result);
            callback(result, chart);
        });

}


module.exports = getData;


//////////////////
// WEBPACK FOOTER
// ./modules/chart/web/timemini/getData2.js
// module id = 348
// module chunks = 0