function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jsonp(e){var t="hqccall"+function(){return Math.floor(1234567890*Math.random()+1)+Math.floor(9876543210*Math.random()+1)}(),a=document.getElementsByTagName("head")[0],n=document.createElement("script"),o=function(e){if(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a+"="+e[a]);return encodeURI("?"+t.join("&"))}}(e.data)||"",s=e.success,i=e.jsoncallback?"&callback="+t:"",r=e.url;n.src=r+o+i,n.type="text/javascript",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i||s(),n.onload=n.onreadystatechange=null,a.removeChild(n))},a.appendChild(n),i&&(window[t]=function(e){s&&s(e.result),delete window[t]})}function random(){return Math.floor(1234567890*Math.random()+1)+Math.floor(9876543210*Math.random()+1)}!function(e){function t(e,t){for(var a=t||40,n=Math.ceil(e.length/a),o=[],s=0;s<n;s++)o.push(e.slice(s*a,(s+1)*a));return o}function a(t){var a="hqccall"+n(),o=document.getElementsByTagName("head")[0],s=document.createElement("script"),i=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a+"="+e[a]);return encodeURI(t.join("&"))}(t.data)||"",r=t.success,l=t.jsoncallback?"&callback="+a:"",c=t.url;s.src=c+i+l,s.type="text/javascript",s.onload=s.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(l||r(),s.onload=s.onreadystatechange=null,o.removeChild(s))},o.appendChild(s),l&&(e[a]=function(t){r&&r(t.result),delete e[a]})}function n(){return Math.floor(1234567890*Math.random()+1)+Math.floor(9876543210*Math.random()+1)}function o(e){var t=encodeURIComponent(e)+"",a=document.cookie.indexOf(t),n=null;if(a>-1){var o=document.cookie.indexOf(";",a);-1==o&&(o=document.cookie.length),n=decodeURIComponent(document.cookie.substring(a+t.length+1,o))}return n}function s(e,t){var a=t||2;return parseFloat(e)?parseFloat(e).toFixed(a):0}function i(e,t,a){var n,o,s=a||2;return parseFloat(e)&&parseFloat(t)?(n=parseFloat(e)-parseFloat(t),o=(100*n/parseFloat(t)).toFixed(s)+"%",n=n.toFixed(s),parseFloat(e)>parseFloat(t)&&(n="+"+n,o="+"+o)):(n="0.00",o="0.00%"),[n,o]}function r(e,t,a){var n,s,i;return s=!a||"A"!==a&&"NF"!==a&&"GZ"!==a&&"SB"!==a?"global":"china",parseFloat(e)&&parseFloat(t)?(i=o("hq_userColor")||localStorage.getItem("hq_riseColor")||"riseRed",n=parseFloat(e)>parseFloat(t)?"riseRed"===i?"red":"green":parseFloat(e)<parseFloat(t)?"riseRed"===i?"green":"red":"equal",[n,s]):["equal",s]}function l(e,t,a,n){var o=n||2;return parseFloat(e)&&parseFloat(t)&&parseFloat(a)?(100*(parseFloat(e)-parseFloat(t))/parseFloat(a)).toFixed(o)+"%":"--"}function c(e,t,a,n){var o;if(!parseFloat(e)||!parseFloat(t))return"--";switch(a){case"turnover":return o=parseFloat(e)/(1e4*parseFloat(t)),(100*o).toFixed(2)+"%";case"pb":return o=(parseFloat(e)/parseFloat(t)).toFixed(2);case"pe":return o=parseFloat(t)>0?(parseFloat(e)*parseFloat(n)*1e4/parseFloat(t)/1e8).toFixed(2):"--";case"total":return o=parseFloat(e)*parseFloat(t)*1e4,[o,f(o)];case"ps":return o=(parseFloat(e)*parseFloat(n)/(1e4*parseFloat(t))).toFixed(2)}}function u(e,t){var a=0;return parseFloat(t)?(a=parseFloat(e)/parseFloat(t),(100*a).toFixed(2)+"%"):"--"}function d(e,t,a){if(!parseFloat(t))return"--";var n,o=a.split(":"),s=60*parseFloat(o[0])+parseFloat(o[1]);return s>690&&(s<780?s=689:(s>900&&(s=899),s-=90)),s+=1,n=s-570,(parseFloat(e)/100/parseFloat(t)/n).toFixed(2)}function p(e){return e?e.split(" ")[2].indexOf("PM")>-1?"\u76d8\u540e":"\u76d8\u524d":"--"}function h(e){if(!e)return"--";var t=parseFloat(e),a=localStorage.getItem("hq_riseColor")||"riseRed";return t>0?"riseRed"===a?"red":"green":t<0?"riseRed"===a?"green":"red":"equal"}function _(e){var t,a,n=e?e.substring(7,14):"";return n.indexOf("AM")>0?(t=n.split(":"),a=60*parseFloat(t[0])+parseFloat(t[1]),a<570?"\u672a\u5f00\u76d8":""):n.indexOf("PM")>0?parseFloat(n)<4?"":"\u672a\u5f00\u76d8":""}function m(e,t){var a=t;return[0==a?"--":(parseFloat(e)*(1+a)).toFixed(2),0==a?"--":(parseFloat(e)*(1-a)).toFixed(2)]}function f(e,t,a,n,o){var s=a||1,i=t||0===t?t:2,r=n||"";return 0===parseFloat(e)?parseFloat(e).toFixed(i):parseFloat(e)?Math.abs(parseFloat(e)/s)>1e8?(parseFloat(e)/s/1e8).toFixed(i)+"\u4ebf"+r:Math.abs(parseFloat(e)/s)>1e4&&!o?(parseFloat(e)/s/1e4).toFixed(i)+"\u4e07"+r:(parseFloat(e)/s).toFixed(i)+r:"--"}function v(e,t,a,n,o){var s=t||2,i=a?1:100,r=o?"":"%";return 0===parseFloat(e)?(parseFloat(e)*i).toFixed(s)+r:e?parseFloat(e)>0&&n?"+"+(parseFloat(e)*i).toFixed(s)+r:(parseFloat(e)*i).toFixed(s)+r:"--"}function y(e,t,a){var n=parseFloat(e)-parseFloat(t);return[f(n,2,1),a?(100*n/parseFloat(a)).toFixed(2)+"%":"--"]}function b(e){var t=e;return{"\u6fb3\u5927\u5229\u4e9a\u5143":"\u6fb3\u5143","\u52a0\u62ff\u5927\u5143":"\u52a0\u5143","\u745e\u5178\u514b\u6717":"\u745e\u5178\u6717","\u65b0\u52a0\u5761\u5143":"\u65b0\u5143","\u745e\u58eb\u6cd5\u90ce":"\u745e\u90ce","\u632a\u5a01\u514b\u6717":"\u632a\u6717","\u4fc4\u7f57\u65af\u5362\u5e03":"\u5362\u5e03","\u83f2\u5f8b\u5bbe\u6bd4\u7d22":"\u6bd4\u7d22","\u65b0\u897f\u5170\u5143":"\u7ebd\u5e01","\u5357\u975e\u5170\u7279":"\u5170\u7279","\u9a6c\u6765\u897f\u4e9a\u5143":"\u6797\u5409\u7279"}[t]||t}function g(e){var t=e;return{"\u5bcc\u65f6100\u6307\u6570":"\u82f1\u56fd\u5bcc\u65f6100","\u9053\u743c\u65af\u6b27\u5143\u533a\u65af\u6258\u514b50\u6307\u6570":"\u6b27Stoxx50","\u6fb3\u5927\u5229\u4e9a\u6807\u51c6\u666e\u5c14200\u6307\u6570":"\u6fb3ASX200","FTSE/JSE \u5357\u975e40\u6307\u6570":"\u5357\u975eJSE40"}[t]||t}function S(e){var t=e;return{"\u6052\u751f\u4e2d\u56fd\u4f01\u4e1a\u6307\u6570":"\u56fd\u4f01\u6307\u6570","\u6052\u751f\u9999\u6e2f\u4e2d\u8d44\u4f01\u4e1a\u6307\u6570":"\u7ea2\u7b79\u6307\u6570"}[t]||t}function x(e,t){var a=e.substr(3).replace(/[0-9]/gi,""),n={IF:"sh000300",IH:"sh000016",IC:"sh000905"};return["IF","IH","IC"].indexOf(a)>-1?t[n[a]].split(","):""}function k(e){var t=e,a={O:"NASDAQ",N:"NYSE",A:"AMEX"};return a.hasOwnProperty(t)?a[t]:"--"}function H(e,t){var a;switch(t){case 1:0!==parseInt(e)&&(a="\u505c\u724c");break;case 2:a="\u672a\u4e0a\u5e02";break;case 3:a="\u9000\u5e02";break;default:a=""}return a}function C(e,t,a,n,o,i){if(void 0===i)return[o[e+"_tradeItem"],o[e+"_tradeVols"]];var r=0,l="EQUAL",c=[];return parseFloat(i.totalVolume_i)<parseFloat(t)?(r=t-i.totalVolume_i,i.buyPriceArr[0]||i.sellPriceArr[0]?(a>=i.sellPriceArr[0]&&i.sellPriceArr[0]&&(l="UP"),a<=i.buyPriceArr[0]&&i.buyPriceArr[0]&&(l="DOWN")):(a>i.price&&(l="UP"),a<i.price&&(l="DOWN")),c[0]=n,c[1]=r.toString(),c[2]=s(a),c[3]=l,o[e+"_tradeItem"].unshift(c),o[e+"_tradeItem"].pop(),o[e+"_tradeVols"][0]+="UP"==l?r:" "==l?r/2:0,o[e+"_tradeVols"][1]+="DOWN"==l?r:" "==l?r/2:0,[o[e+"_tradeItem"],o[e+"_tradeVols"]]):[o[e+"_tradeItem"],o[e+"_tradeVols"]]}function O(e,t,a){return"ped"===a?s(e/1e8/t/4):"pej"===a?s(e/t):void 0}function B(e){var t=e,a=0,n=0;return a=parseFloat(t[20])+parseFloat(t[22])+parseFloat(t[24])+parseFloat(t[26])+parseFloat(t[28]),n=parseFloat(t[10])+parseFloat(t[12])+parseFloat(t[14])+parseFloat(t[16])+parseFloat(t[18]),a&&n?v((n-a)/(a+n)+"",2):"--"}function w(e,t){return"string"!=typeof e?"--":(e=parseFloat(e),isNaN(e)?"--":e.toFixed(t))}function N(e){return e.replace(/[^0-9a-z_]/gi,function(e){return"$"+e.charCodeAt(0).toString(16)})}function A(e,t,a,n,o,s){void 0===t&&(t="-");var i=[];if(n||i.push(e[a?"getUTCFullYear":"getFullYear"]()),!o){var r=e[a?"getUTCMonth":"getMonth"]()+1;i.push(r<10?"0"+r:r)}if(!s){var l=e[a?"getUTCDate":"getDate"]();i.push(l<10?"0"+l:l)}return i.join(t)}function F(e,t,a){var n=A(e,t,a),o=[e["get"+(a?"UTC":"")+"Hours"]()],s=[e["get"+(a?"UTC":"")+"Minutes"]()],i=[e["get"+(a?"UTC":"")+"Seconds"]()];return[n,[o<10?"0"+o:o,s<10?"0"+s:s,i<10?"0"+i:i].join(":")].join(" ")}if(!e.HQ||!e.HQ.VERSION){var L={VERSION:"3.1.1",TS:"2018-11-01"};L.DataCenter=function(e,t){this._config={host:"w.sinajs.cn",symbols:"",loadType:"websocket",allowrepeat:!0,ssl:!0,ishttp:!1,interval:3e3,nxkeyvalue:"notexist",getObj:null,getStr:null,isHKNeed_i:!0,isHKClickFresh:!0,isANeedCWZJ:!0,isANeedQZ:!1,isANeedPHP:!0,QZindex:"",eachOrder:!1},this._AppCallback=t;for(var a in e)e.hasOwnProperty(a)&&(this._config[a]=e[a]);this._SymList=[],this._RestNum=0,this._RestHknum=0,this._DataObj=new L.DataHandle,this._Socket=null,this._SocketOther=null,this._ResObj={},this._ConStr={},this._SocketKey=!0,this._Catch=[],this._Sym_OtherNum=0,this._Sym_AllAList=[],this._Sym_StockAList=[],this._Sym_IndexAList=[],this._Sym_BondAList=[],this._Sym_AllHKList=[],this._Sym_ALLRTHKList=[],this._Sym_GzNfList=[],this._Sym_GziNfList=[],this._Sym_StockUsList=[],this._Sym_FUNDList=[],this._Sym_ZNBList=[],this._Sym_LSEList=[],this._Sym_BlockList=[],this._Sym_MSCIList=[],this._init()},L.DataCenter.prototype._init=function(){var e=this;if(e._SymList=e._config.symbols.split(","),0===e._SymList.length)return console.log("symbols\u5b57\u6bb5\u4e3a\u7a7a\uff0c\u65e0\u6cd5\u542f\u52a8\u7ec4\u4ef6");e._splitSymbol(e._SymList)},L.DataCenter.prototype._splitSymbol=function(e){var t=this,a=/^sh(20|1|009|010|020|019)/,n=/^sz(100|101|108|109|111|112|115|12|13|106|107)/;e.forEach(function(e,o,s){"A"===t.getMarket(e)&&(t._Sym_AllAList.push(e),/^(sh00)\d+/.test(e)||/^(sz399)\d+/.test(e)?t._Sym_IndexAList.push(e):a.test(e)||n.test(e)?t._Sym_BondAList.push(e):t._Sym_StockAList.push(e)),"HK"===t.getMarket(e)&&t._Sym_AllHKList.push(e),"RTHK"===t.getMarket(e)&&t._Sym_ALLRTHKList.push(e);var i=e.substr(3).replace(/[0-9]/gi,"");"NF"===t.getMarket(e)&&["IF","TF","T","IH","IC","TS"].indexOf(i)>-1&&(t._Sym_GzNfList.push(e),"T"!==i&&"TF"!==i&&t._Sym_GziNfList.push(e)),"US"===t.getMarket(e)&&(s[o]=e.replace(/\./g,"$"),t._Sym_StockUsList.push(s[o])),"FUND"===t.getMarket(e)&&t._Sym_FUNDList.push(e),"ZNB"===t.getMarket(e)&&t._Sym_ZNBList.push(e),"MSCI"===t.getMarket(e)&&t._Sym_MSCIList.push(e),"LSE"===t.getMarket(e)&&(s[o]=N(e),t._Sym_LSEList.push(s[o])),"BLOCK"===t.getMarket(e)&&t._Sym_BlockList.push(e)}),t._Sym_AllAList.length&&++t._Sym_OtherNum,t._Sym_IndexAList.length&&(t._config.isANeedPHP?t._Sym_OtherNum+=2:t._Sym_OtherNum+=1),t._Sym_StockAList.length&&t._config.isANeedCWZJ&&(t._config.isANeedPHP?t._Sym_OtherNum+=2:t._Sym_OtherNum+=1),t._Sym_StockAList.length&&t._config.eachOrder&&(t._Sym_OtherNum+=1),t._Sym_BondAList.length&&t._config.eachOrder&&(t._Sym_OtherNum+=1),t._Sym_GziNfList.length&&++t._Sym_OtherNum,t._Sym_StockUsList.length&&(t._Sym_OtherNum+=2),t._Sym_LSEList.length&&(t._Sym_OtherNum+=1),t._Sym_AllHKList.length&&t._config.isHKClickFresh&&(t._Sym_AllHKList.forEach(function(e){var a=t._SymList.indexOf(e);t._SymList.splice(a,1)}),t._RestNum=t._SymList.length,t._config.isHKNeed_i?t._loadOthers(function(){t.hkRefresh()},"hk"):t.hkRefresh()),t._Sym_FUNDList.length&&(t._Sym_OtherNum+=1),t._Sym_BlockList.length&&(t._Sym_OtherNum+=1),t._Sym_AllAList.length||t._Sym_LSEList.length||t._Sym_GziNfList.length||t._Sym_StockUsList.length||t._Sym_FUNDList.length||t._Sym_BlockList.length?t._loadOthers(function(){t._webmainPush()}):t._SymList.length&&t._webmainPush()},L.DataCenter.prototype._loadOthers=function(t,n){function o(e,t,a,n,o){for(var s=n||"back",i=[],l=0;l<e.length;l++)i[l]="back"===s?e[l]+t:t+e[l];r._loadScript({symbol:i.join(",")},function(e){for(var t in e)e.hasOwnProperty(t)&&(r._ConStr[t]=e[t]);"hk"!==o&&--r._Sym_OtherNum,a()})}function s(e,t){var a=e.join(","),n="";r._config.QZindex&&r._config.isANeedQZ&&(n=r._config.QZindex),r._loadPhp({symbol:a,isymbol:n,dpc:1},function(a){e.forEach(function(e){r._ConStr[e+"_php"]=a.data[e]}),--r._Sym_OtherNum,t()})}function i(t,n){var o=t.length;t.forEach(function(t){a({url:"//vip.stock.finance.sina.com.cn/quotes_service/view/CN_TransListV2.php?num=10&dpc=1&symbol="+t,success:function(){r._ConStr[t+"_tradeItem"]=e.trade_item_list,r._ConStr[t+"_tradeVols"]=e.trade_INVOL_OUTVOL,--o||(--r._Sym_OtherNum,n())}})})}var r=this,l=t;if(n&&"hk"===n&&r._Sym_AllHKList.length)return o(r._Sym_AllHKList,"_i",l,"back","hk");r._Sym_LSEList.length&&o(r._Sym_LSEList,"_i",l,"back"),r._Sym_AllAList.length&&o(r._Sym_AllAList,"_i",l,"back"),r._Sym_StockAList.length&&r._config.isANeedCWZJ&&r._webotherPush(r._Sym_AllAList,"zjlxn_",l,"front"),r._Sym_StockAList.length&&r._config.isANeedPHP&&r._config.isANeedCWZJ&&s(r._Sym_AllAList,l),r._Sym_BondAList.length&&r._config.eachOrder&&i(r._Sym_BondAList,l),r._Sym_StockAList.length&&r._config.eachOrder&&i(r._Sym_StockAList,l),r._Sym_IndexAList.length&&o(r._Sym_IndexAList,"_zdp",l,"back",!0),r._Sym_IndexAList.length&&r._config.isANeedPHP&&s(r._Sym_IndexAList,l),r._Sym_BlockList.length&&o(r._Sym_BlockList,"_zdp",l,"back",!0),r._Sym_GziNfList.length&&o(["sh000300","sh000016","sh000905"],"",l,"back"),r._Sym_StockUsList.length&&(o(r._Sym_StockUsList,"_i",l,"back"),r._loadScript({symbol:"gb_ixic"},function(e){r._ConStr._ixicStr=e.gb_ixic,--r._Sym_OtherNum,l()})),r._Sym_FUNDList.length&&o(r._Sym_FUNDList,"fu_rate_",l,"front")},L.DataCenter.prototype._initData=function(e){var t,a=this;a._SocketKey=!1,t=Object.keys(e),a._RestNum=t.length,t.forEach(function(t){a._handle(t,e[t],function(){--a._RestNum,a._success(e)})})},L.DataCenter.prototype._success=function(e){var t,a=this;a._RestHknum||a._RestNum||(this._callbacks(e),a._Catch.length?(t=a._Catch.shift(),a._initData(t)):a._SocketKey=!0)},L.DataCenter.prototype._callbacks=function(e){var t=this;"function"==typeof t._AppCallback&&t._AppCallback(t._ResObj),"function"==typeof t._config.getObj&&t._config.getObj(t._ResObj),"function"==typeof t._config.getStr&&t._config.getStr(e)},L.DataCenter.prototype._handle=function(e,t,a,n){var o,s=this;switch(n||s.getMarket(e)){case"A":o=s._ConStr[e+"_i"]||"--";var i=s._ConStr[e+"_zdp"]||"--",r=(s._ConStr["zjlxn_"+e],s._ConStr[e+"_php"]||"--");s._Sym_IndexAList.indexOf(e)>-1?s._ResObj[e]=s._DataObj.StockIndexObj(t,e,o,i,r):s._Sym_BondAList.indexOf(e)>-1?s._ResObj[e]=s._DataObj.BondObj(t,e,s._ConStr,s._ResObj[e],s._config):s._ResObj[e]=s._DataObj.StockObj(t,e,s._ConStr,s._ResObj[e],s._config),a();break;case"US":o=s._ConStr[e+"_i"]||"--";var l=s._ConStr._ixicStr;s._ResObj[e]=s._DataObj.USStockObj(t,e,o,l),a();break;case"HF":s._ResObj[e]=s._DataObj.FuturesObj(t,e),a();break;case"NF":s._Sym_GzNfList.indexOf(e)>-1?s._ResObj[e]=s._DataObj.GZfuturesObj(t,e,s._ConStr):s._ResObj[e]=s._DataObj.NffuturesObj(t,e),a();break;case"DINIW":s._ResObj[e]=s._DataObj.DINIWObj(t,e),a();break;case"FX":s._ResObj[e]=s._DataObj.ForexObj(t,e),a();break;case"B":s._ResObj[e]=s._DataObj.GlobalObj(t,e),a();break;case"SB":s._ResObj[e]=s._DataObj.SBstockObj(t,e),a();break;case"HK":case"RTHK":o=s._ConStr[e+"_i"]||"--",s._ResObj[e]=s._DataObj.HkstockObj(t,e,o),a();break;case"BT":s._ResObj[e]=s._DataObj.BitcoinObj(t,e),a();break;case"FUND":var c=e.substr(e.indexOf("_")+1),u="fu_rate_"+c;s._ResObj[e]=s._DataObj.FUNDObj(t,e,c,s._ConStr[u]),a();break;case"ZNB":s._ResObj[e]=s._DataObj.ZNBGBObj(t,e),a();break;case"BLOCK":var d=s._ConStr[e+"_zdp"]||"--";s._ResObj[e]=s._DataObj.BlockIndexObj(t,d,e),a();break;case"LSE":o=s._ConStr[e+"_i"]||"--",s._ResObj[e]=s._DataObj.UKLSEObj(t,e,o),a();break;case"GOODS":s._ResObj[e]=s._DataObj.GOODSObj(t,e),a();break;case"MSCI":s._ResObj[e]=s._DataObj.MSCIObj(t,e),a();break;default:s._ResObj[e]={sinaSymbol:e,price:"--",name:"--",percent:"--"},a()}},L.DataCenter.prototype._webmainPush=function(){if(!this._Sym_OtherNum){var e=this;e._Socket=new IO.WebPush4(e._config.host,e._SymList.join(","),function(t){e._SocketKey?e._initData(t):e._Catch.push(t)},{allowrepeat:e._config.allowrepeat,ssl:e._config.ssl,nxkeyvalue:e._config.nxkeyvalue})}},L.DataCenter.prototype._webotherPush=function(e,t,a,n){function o(e){for(var t in e)e.hasOwnProperty(t)&&(i._ConStr[t]=e[t])}for(var s=!0,i=this,r=n||"back",l=[],c=0;c<e.length;c++)l[c]="back"===r?e[c]+t:t+e[c];i._SocketOther=new IO.WebPush4(i._config.host,l.join(","),function(e){o(e),s&&(s=!1,--i._Sym_OtherNum,a())},{allowrepeat:i._config.allowrepeat,ssl:i._config.ssl,nxkeyvalue:i._config.nxkeyvalue})},L.DataCenter.prototype._loadScript=function(o,s){function i(){for(var t=0;t<c.length;t++)p[c[t]]=e["hq_str_"+c[t]];if(!--d)return l(p)}var r=this,l=s,c=o.symbol.split(","),u=t(c),d=u.lenght,p={};u.forEach(function(e){a({url:"//"+r._config.host+"/rn="+n()+"&list="+e.join(","),success:function(){"function"==typeof s&&i()}})})},L.DataCenter.prototype._loadPhp=function(e,t){var n=t;a({url:"//gu.sina.cn/hq/api/openapi.php/StockV2Service.getStockDetail?",data:e,jsoncallback:!0,success:function(e){e.data&&"function"==typeof t&&n(e.data)}})},L.DataCenter.prototype.getMarket=function(e){return 0===e.indexOf("sh")||0==e.indexOf("sz")?"A":0===e.indexOf("gb_")||0===e.indexOf("usr_")?"US":0===e.indexOf("hf_")?"HF":0===e.indexOf("nf_")?"NF":e.indexOf("DINIW")>-1||e.indexOf("XAGUSD")>-1||e.indexOf("XAUUSD")>-1||e.indexOf("EURI")>-1?"DINIW":0===e.indexOf("fx_s")?"FX":0===e.indexOf("b_")?"B":0===e.indexOf("lse_")?"LSE":0===e.indexOf("gds_")?"GOODS":0===e.indexOf("znb_")?"ZNB":0===e.indexOf("hk")?"HK":0===e.indexOf("sb")?"SB":0===e.indexOf("btc_")?"BT":0===e.indexOf("f_")?"FUND":0===e.indexOf("msci_")?"MSCI":0===e.indexOf("rt_")?"RTHK":/(hy|gn|dy)\d{7}/i.test(e)?"BLOCK":"NODATA"},L.DataCenter.prototype.hkRefresh=function(){var e=this,t="",a=[];e._Sym_AllHKList.forEach(function(e){a.push(e)}),e._RestHknum=e._Sym_AllHKList.length,t=a.join(","),e._loadScript({symbol:t},function(t){a.forEach(function(a,n){e._handle(e._Sym_AllHKList[n],t[a],function(){--e._RestHknum,e._success(t)},"HK")})})},L.DataCenter.prototype.closeSocket=function(){this._Socket&&this._Socket.close(),this._SocketOther&&this._SocketOther.close()},L.DataHref={nfutures:"//gu.sina.cn/ft/hq/nf.php?symbol=",hfutures:"//gu.sina.cn/ft/hq/hf.php?symbol=",usstock:"//gu.sina.cn/us/hq/quotes.php?code=",forex:"//gu.sina.cn/fx/hq/quotes.php?code=",stock:"//quotes.sina.cn/hs/company/quotes/view/",bond:"//gu.sina.cn/bd/hq/quotes.php?symbol=",sanban:"//gu.sina.cn/tm/hq/quotes.php?code=",hkstock:"//quotes.sina.cn/hk/company/quotes/view/",bitcoin:"//gu.sina.cn/fx/hq/quotes.php?code=",znb:"//quotes.sina.cn/global/hq/quotes.php?code=",fund:"http://stocks.sina.cn/fund/?code=",lse:"//quotes.sina.cn/lse/hq/quotes.php?symbol=",block:"//quotes.sina.cn/hs/company/quotes/view/"},L.DataHandle=function(){this.hqHref=L.DataHref,this._globalType=o("hq_userColor")||"riseRed",this._localType=localStorage.getItem("hq_riseColor")||"riseRed"},L.DataHandle.prototype.StockObj=function(e,t,a,n,o){"notexist"===e&&(e=new Array(33).join(",")),"notexist"===ye&&(e=new Array(17).join(","));var u,p,h,_,b,g,S,x,k,N,A,F,L,I,q,D,E,j,M,U,T,R,Q,z,P,V,K,G,$,Z,W,X,J,Y,ee,te,ae,ne,oe,se,ie,re,le,ce,ue,de,pe,he=0,_e="--",me="--",fe="--",ve=a[t+"_i"]||"--",ye=(a[t+"_zdp"],a["zjlxn_"+t]||"--"),be=a[t+"_php"]||"--",ge=e.split(","),Se=ve.split(","),xe=ye.split(","),ke=be,He=[],Ce=0,Oe="",Be="--",we="--",Ne="--",Ae="--",Fe=ge&&ge[4],Le=ge&&ge[5];if(ge.length>33){var Ie=ge[33]?ge[33].split("|"):[];Ie.length>0&&(_e=Ie[0],me=f(Ie[2]),fe=Ie[1]+"\u80a1",Number(Ie[1])&&(he=1))}if(ie=Se.splice(19),ne=ge.slice(0,33).concat(Se,xe),re=Math.max(Fe,ie[0])?Math.max(Fe,ie[0])+"":Fe+"",le=Math.min(Le,ie[1])?Math.min(Le,ie[1])+"":Le+"",ce=Number(ie[2]),ue=ie[5],pe=ie[3],ie[4]&&(He=ie[4].split("|"),Ce="X"===He[0]?0:1),1===Ce)switch(Oe=He[0],Be=f(1e4*Number(He[4])),we=f(1e4*Number(He[3])),Ne="0"===He[2]?"--":He[2],He[1]){case"O":Ae="\u5426";break;case"W":Ae="\u662f";break;case"D":default:Ae="\u5426"}u=0===parseFloat(ne[3])?parseFloat(ne[2]):parseFloat(ne[3]);var qe=null;qe=ge[1]||ge[11]||ge[21]||ge[2],g=ne[41]?c(ne[8],ne[41],"turnover"):"--",S=ne[38]?c(u,ne[38],"pb"):"--",x=ne[46]?c(u,ne[46],"pe",ne[40]):"--",I=c(u,ne[40],"total")[0],L=ne[40]?c(u,ne[40],"total")[1]:"--",k=ne[46]?c(u,ne[46],"pe",ne[40]):"--",N=ne[35]?O(u,ne[35],"pej"):"--",q=ne[41]?c(u,ne[41],"total")[1]:"--",F=ne[50]?c(u,ne[50],"ps",ne[40]):"--",D=2,se=100,E=this.hqHref.stock+t,j=1===Ce?f(ne[8],2,0,"\u80a1"):f(ne[8],2,se,"\u624b"),U=xe&&f(xe[7],2,1),M=f(ne[9],2,1),R=H(ne[32],ne[48]),T="\u9000\u5e02"!=R?d(ne[8],ne[39],ne[31]):"--";var De=i(u,ne[2],D);h=De[0],p=De[1];var Ee=i(u,ne[2],3),je=Ee[0],Me=r(u,ne[2],"A");te=Me[0],ae=Me[1];var Ue=o.eachOrder?C(t,ne[8],u,ne[31],a,n):[[],["--","--"]];Q=Ue[0],z=Ue[1],A=o.eachOrder&&"\u9000\u5e02"!=R?B(ne):"--";var Te=parseFloat(ne[61])+parseFloat(ne[63]),Re=parseFloat(ne[60])+parseFloat(ne[62]);V=f(Re,2,1),P=f(Te,2,1);var Qe=y(Re,Te,ne[59]);K=Qe[0],G=Qe[1];var ze=y(ne[60],ne[61],ne[59]);$=ze[0],Z=ze[1];var Pe=y(ne[62],ne[63],ne[59]);W=Pe[0],X=Pe[1];var Ve=y(ne[64],ne[65],ne[59]);J=Ve[0],Y=Ve[1];var Ke=y(ne[66],ne[67],ne[59]);_rs_net=Ke[0],ee=Ke[1];var Ge=/(^sz15|^sz16|^sz18)\d+/,$e=/(^sh50|^sh51|^sh52)\d+/,Ze=$e.test(t)||Ge.test(t);oe=m(ne[2],ce),Ze?(_=oe[0],b=oe[1]):(de=ue.split("|"),_=Number(de[0]).toFixed(2),b=Number(de[1]).toFixed(2));var We,Xe;return"\u9000\u5e02"!==R?1===Ce?(We=f(z[0],2,0,"\u80a1",!1),Xe=f(z[1],2,0,"\u80a1",!1)):(We=f(z[0],2,100,"\u624b",!1),Xe=f(z[1],2,100,"\u624b",!1)):(We="--",Xe="--"),{sinaSymbol:t,name:ne[0]||pe||"--",open:Ze&&s(ne[1],3)||s(ne[1],D)||"--",prevclose:Ze&&s(ne[2],3)||s(ne[2],D)||"--",price:Ze&&s(u,3)||s(u,D)||"--",high:Ze&&s(ne[4],3)||s(ne[4],D)||"--",low:Ze&&s(ne[5],3)||s(ne[5],D)||"--",buy:Ze&&s(ne[6],3)||s(ne[6],D)||"--",sell:Ze&&s(ne[7],3)||s(ne[7],D)||"--",totalVolume:j,totalVolume_i:ne[8],totalAmount:M,totalAmountMF:U,totalAmount_i:ne[9],buyNumArr:[ne[10],ne[12],ne[14],ne[16],ne[18]],buyPriceArr:[s(ne[11],D),s(ne[13],D),s(ne[15],D),s(ne[17],D),s(ne[19],D)],sellNumArr:[ne[20],ne[22],ne[24],ne[26],ne[28]],sellPriceArr:[s(ne[21],D),s(ne[23],D),s(ne[25],D),s(ne[27],D),s(ne[29],D)],date:ne[30]||"--",time:ne[31]||"--",status:ne[32],change:Ze&&je||h,percent:p,type:te,code:t,upLimit:s(_,D)||"--",downLimit:s(b,D)||"--",amplitude:l(ne[4],ne[5],ne[2]),totalCapital:f(1e4*ne[40],2)||"--",cirCapital:f(1e4*ne[41],2)||"--",turnOver:g||"--",pb:S||"--",pe:x||"--",pej:N||"--",ped:k||"--",fiveRate:A||"--",totalShare:L||"--",totalShare_i:I||"--",cirValue:q||"--",lastFour:s(ne[36])||"--",volumeRatio:T,area:ae||"--",url:E||"--",sname:ne[0]||"--",halt:R,rp_in:V,rp_out:P,rp_net:K,rp_net_rate:G,rxl_in:f(ne[60],2,1),rxl_in_raw:ne[60],rxl_out:f(ne[61],2,1),rxl_out_raw:ne[61],rxl_net:$,rxl_net_rate:Z,rl_in:f(ne[62],2,1),rl_in_raw:ne[62],rl_out:f(ne[63],2,1),rl_out_raw:ne[63],rl_net:W,rl_net_rate:X,rm_in:f(ne[64],2,1),rm_in_raw:ne[64],rm_out:f(ne[65],2,1),rm_out_raw:ne[65],rm_net:J,rm_net_rate:Y,rs_in:f(ne[66],2,1),rs_in_raw:ne[66],rs_out:f(ne[67],2,1),rs_out_raw:ne[67],rs_net:_rs_net,rs_net_rate:ee,weighing:v(ke.weighing,2,!0)||"--",changes_5m:v(ke.changes_5m,2,!1,!0)||"--",aov_5m:v(ke.aov_5m)||"--",turnover_5m:v(ke.turnover_5m)||"--",changes_5d:v(ke.changes_5d,2,!1,!0)||"--",aov_5d:v(ke.aov_5d)||"--",turnover_5d:v(ke.turnover_5d)||"--",changes_20d:v(ke.changes_20d,2,!1,!0)||"--",aov_20d:v(ke.aov_20d)||"--",turnover_20d:v(ke.turnover_20d)||"--",mgsy:s(ke.mgsy,4)||"--",perAssets:s(ne[38],4)||"--",mgzbgjj:s(ke.mgzbgjj,4)||"--",mgwfplr:s(ke.mgwfplr,4)||"--",mgxjhl:s(ke.mgxjhl,4)||"--",jzcsyl:v(ke.jzcsyl,2,!0)||"--",zzcsyl:v(ke.zzcsyl,2,!0)||"--",ps:F||"--",report_date:ke.report_date||"--",zyywsr:f(ke.zyywsr,2,1),zyywsrzzl:v(ke.zyywsrzzl,2,!0),yylr:f(ke.yylr,2,1),yylrzzl:v(ke.yylrzzl,2,!0),zyywlr:f(ke.zyywlr,2,1),zyywlrl:v(ke.zyywlrl,2,!0),netProfit:f(ne[51],2,1,"\u4ebf")||"--",jlrzzl:v(ke.jlrzzl,2,!0),zyywlrzzl:v(ke.zyywlrzzl,2,!0),mll:v(ke.mll,2,!0),zczj:f(ke.zczj,2,1),fzhj:f(ke.fzhj,2,1),syzqyhj:f(ke.syzqyhj,2,1),jzzzzl:v(ke.jzzzzl,2,!0)||"--",zcfzl:v(ke.zcfzl,2,!0)||"--",jyxjlje:f(ke.jyxjlje,2,1),tzxjlje:f(ke.tzxjlje,2,1),czxjlje:f(ke.czxjlje,2,1),xjllbl:v(ke.xjllbl,2,!0),hqMarket:"A",tradeItems:Q,tradeVolsBuy:We,tradeVolsSell:Xe,max52:re,min52:le,newprice:w(qe,2),isKCB:Ce,kcbType:Oe,issuedCapital:Be,totalRegisteredCapital:we,minimumPrice:Ne,sameShareAndRight:Ae,afterState:_e,afterAmount:me,afterVolume:fe,hasAfterExt:he}},L.DataHandle.prototype.StockIndexObj=function(e,t,a,n,o){"notexist"===e&&(e=new Array(33).join(","));var u,d,p,h,_,m,y,b,g,S,x,k,H,C=e.split(","),O=a.split(","),B=n.split(","),w=o||{};O.splice(19),k=C.slice(0,33).concat(O,B),p=k[38]?c(k[3],k[38],"pb"):"--",h=k[40]?c(k[3],k[40],"total"):"--",_=k[41]?c(k[3],k[41],"total"):"--",H=t.indexOf("sh")>-1?1:100,m=2,y=this.hqHref.stock+t,b=f(k[8],2,H,"\u624b"),g=f(k[9],2,1);var N=i(k[3],k[2],m);d=N[0],u=N[1];var A=r(k[3],k[2],"A");return S=A[0],x=A[1],{sinaSymbol:t,name:k[0]||"--",open:s(k[1],m)||"--",prevclose:s(k[2],m)||"--",price:s(k[3],m)||s(k[2],m)||"--",high:s(k[4],m)||"--",low:s(k[5],m)||"--",buy:s(k[6],m)||"--",sell:s(k[7],m)||"--",totalVolume:b,totalAmount:g,buyNumArr:[k[10],k[12],k[14],k[16],k[18]],buyPriceArr:[s(k[11],m),s(k[13],m),s(k[15],m),s(k[17],m),s(k[19],m)],sellNumArr:[k[20],k[22],k[24],k[26],k[28]],sellPriceArr:[s(k[21],m),s(k[23],m),s(k[25],m),s(k[27],m),s(k[29],m)],date:k[30],time:k[31],status:k[32],change:d,percent:u,type:S,code:t,upLimit:"--",downLimit:"--",amplitude:l(k[4],k[5],k[2]),perAssets:s(k[38],m)||"--",totalCapital:s(k[40],m)||"--",cirCapital:s(k[41],m)||"--",pb:p,totalShare:h,cirValue:_,lastFour:s(k[36],m),area:x,url:y,sname:k[0]||"--",riseStockNum:k[52]||"--",fallStockNum:k[53]||"--",equalStockNum:k[54]||"--",changes_5m:v(w.changes_5m,2,!1,!0)||"--",aov_5m:v(w.aov_5m)||"--",turnover_5m:v(w.turnover_5m)||"--",changes_5d:v(w.changes_5d,2,!1,!0)||"--",aov_5d:v(w.aov_5d)||"--",turnover_5d:v(w.turnover_5d)||"--",changes_20d:v(w.changes_20d,2,!1,!0)||"--",aov_20d:v(w.aov_20d)||"--",turnover_20d:v(w.turnover_20d)||"--",hqMarket:"A"}},L.DataHandle.prototype.BlockIndexObj=function(e,t,a){var n,o,s=e.split(","),c=t.split(",");n=f(s[8],2,1,"\u624b"),o=f(s[9],2,1);var u=r(s[3],s[2],"A");_type=u[0],_area=u[1],"function"!=typeof String.prototype.to_n&&(String.prototype.to_n=function(e){e=e||2;var t=parseFloat(this);return isNaN(t)?"--":function(t){return t.toFixed(e)}(t)});var d=this.hqHref.block+a;if(e)return function(e){var t=i(s[3],s[2],2),r=t[0],u=t[1];return{sinaSymbol:a,code:a,name:s[0],price:s[3].to_n(),change:r,percent:u,date:s[30]||"--",time:s[31]||"--",open:s[1].to_n(),prevclose:s[2].to_n(),high:s[4].to_n(),low:s[5].to_n(),amplitude:l(s[4],s[5],s[2],2),riseStockNum:c[0]||"--",fallStockNum:c[1]||"--",equalStockNum:c[2]||"--",totalVolume:n,totalAmount:o,type:_type,area:_area,url:d}}()},L.DataHandle.prototype.BondObj=function(e,t,a,n,o){"notexist"===e&&(e=new Array(33).join(","));var c,u,d,p,h,_,m,v,y,b,g,S=e.split(",");d=/^(sh204)\d+/.test(t)||/^(sz1318)\d+/.test(t)?3:2,p=10,_=f(S[8],2,p,"\u624b"),m=f(S[9],2,1),h=this.hqHref.bond+t;var x=i(S[3],S[2],d);u=x[0],c=x[1];var k=r(S[3],S[2],"A");v=k[0],y=k[1];var H=o.eachOrder?C(t,S[8],S[3],S[31],a,n):[[],["--","--"]];return b=H[0],g=H[1],{sinaSymbol:t,name:S[0]||"--",open:s(S[1],d)||"--",prevclose:s(S[2],d)||"--",price:s(S[3],d)||"--",high:s(S[4],d)||"--",low:s(S[5],d)||"--",buy:s(S[6],d)||"--",sell:s(S[7],d)||"--",totalVolume:_,totalVolume_i:S[8],totalAmount:m,totalAmount_i:S[9],buyNumArr:[S[10],S[12],S[14],S[16],S[18]],buyPriceArr:[s(S[11],d),s(S[13],d),s(S[15],d),s(S[17],d),s(S[19],d)],sellNumArr:[S[20],S[22],S[24],S[26],S[28]],sellPriceArr:[s(S[21],d),s(S[23],d),s(S[25],d),s(S[27],d),s(S[29],d)],date:S[30],time:S[31],status:S[32],change:u,percent:c,type:v,code:t,amplitude:l(S[4],S[5],S[2]),area:y,url:h,sname:S[0]||"--",tradeItems:b,tradeVolsBuy:f(g[0],0,100,"\u624b",!0),tradeVolsSell:f(g[1],0,100,"\u624b",!0),hqMarket:"BD"}},L.DataHandle.prototype.USStockObj=function(e,t,a,n){"notexist"===e&&(e=new Array(28).join(","));var o,l,c,d,m,y,b,g,S=e.split(","),x=a.split(","),H=n&&n.split(","),C=i(S[1],S[26]);c=C[0],l=C[1],d=0!=x[5]?f(S[1]*x[5],0):"--",m=f(S[10],0);var O=r(S[1],S[26]),B=O[0];O[1];b=u(S[10],x[5])||"--",g=parseFloat(x[5])?f(x[5]):"--",y=S[24]&&"0"!==S[24]?p(S[24]):"--",o=t.indexOf("gb_")>-1?t.substr(3).replace(/\$/g,"."):t.substr(4).replace(/\$/g,".");var N,A=S[24],F=S[25],L=(new Date).getFullYear();return/pm/i.test(A)?(A=A.replace(/[AP]M\s\w{3,}/,""),A=new Date(L+A),A.setHours(A.getHours()+12)):(A=A.replace(/[AP]M\s\w{3,}/,""),A=new Date(L+A)),/pm/i.test(F)?(F=F.replace(/[AP]M\s\w{3,}/,""),F=new Date(L+F),F.setHours(F.getHours()+12)):(F=F.replace(/[AP]M\s\w{3,}/,""),F=new Date(L+F)),N=A>F?S[21]:S[1],{sinaSymbol:t,name:S[0]||"--",price:s(S[1])||"--",newprice:w(N,2),percent:l,time:S[3].substr(11),change:c,open:s(S[5])||"--",high:s(S[6])||"--",low:s(S[7])||"--",high52:s(S[8])||"--",low52:s(S[9])||"--",totalVolume:m,balanceVolume:S[12],totalShare:d,perProfit:s(S[13])||"--",pe:s(S[14])||"--",fpe:S[15],beta:s(S[16])||"--",dividend:s(S[17])||"--",returnRate:S[18],totalCapital:g,turnOver:b,instown:S[20],extPrice:s(S[21])||"--",extPercent:v(S[22],2,!0,!0)||"--",extChange:s(S[23])||"--",extTime:S[24],regTime:S[25],prevclose:s(S[26])||"--",extVolume:S[27],code:o,type:B,date:S[3].substr(5,5),url:this.hqHref.usstock+o,sname:S[0]||"--",extType:y,extColor:h(S[23]),regType:H&&_(H[25]),hqMarket:"US",usMarket:k(x[0]),totalAmount:"--"}},L.DataHandle.prototype.GOODSObj=function(e,t){"notexist"===e&&(e=new Array(14).join(","));var a,n,o,c,u,d,p=e.split(",");return c=Number(p[0])<100?3:2,n=i(p[0],p[7],c)[0],a=i(p[0],p[7])[1],u=r(p[0],p[7],"A")[0],d=r(p[0],p[7],"A")[1],o=p[12].substr(5),{sinaSymbol:t,price:s(p[0],c)||"--",change:n,percent:a,buy:s(p[2],c)||"--",sell:s(p[3],c)||"--",high:s(p[4],c)||"--",low:s(p[5],c)||"--",time:p[6]||"--",prevclose:s(p[7],c)||"--",open:s(p[8],c)||"--",capital:parseInt(p[9])||"--",buyVolume:parseInt(p[10])||"--",sellVolume:parseInt(p[11])||"--",date:o||"--",name:p[13]||"--",type:u,amplitude:l(p[4],p[5],p[7]),settlement:"--",totalVolume:"--",code:t.substr(4),area:d,url:this.hqHref.hfutures+t.substr(4),hqMarket:"GOODS"}},L.DataHandle.prototype.FuturesObj=function(e,t){"notexist"===e&&(e=new Array(14).join(","));var a,n,o,c,u,d,p=e.split(",");return c=t.indexOf("EC")>-1||t.indexOf("BP")>-1||t.indexOf("JY")>-1||t.indexOf("CD")>-1||t.indexOf("SF")>-1||t.indexOf("DXF")>-1?4:Number(p[0])<100?3:2,n=i(p[0],p[7],c)[0],a=i(p[0],p[7])[1],u=r(p[0],p[7],"HF")[0],d=r(p[0],p[7],"HF")[1],o=p[12].substr(5),{sinaSymbol:t,price:s(p[0],c)||"--",change:n,percent:a,buy:s(p[2],c)||"--",sell:s(p[3],c)||"--",high:s(p[4],c)||"--",low:s(p[5],c)||"--",time:p[6]||"--",prevclose:s(p[7],c)||"--",open:s(p[8],c)||"--",capital:parseInt(p[9])||"--",buyVolume:parseInt(p[10])||"--",sellVolume:parseInt(p[11])||"--",date:o||"--",name:p[13]||"--",type:u,amplitude:l(p[4],p[5],p[7]),settlement:"--",totalVolume:"--",code:t.substr(3),area:d,url:this.hqHref.hfutures+t.substr(3),hqMarket:"FUTURES"}},L.DataHandle.prototype.NffuturesObj=function(e,t){"notexist"===e&&(e=new Array(28).join(","));var a,n,o,c,u,d=e.split(",");return n=i(d[8],d[10])[0],a=i(d[8],d[10])[1],c=r(d[8],d[10],"NF")[0],u=r(d[8],d[10],"NF")[1],o=d[1].substr(0,2)+":"+d[1].substr(2,2)+":"+d[1].substr(4,2),{sinaSymbol:t,name:d[0]||"--",time:o.toLocaleString()||"--",open:s(d[2])||"--",high:s(d[3])||"--",low:s(d[4])||"--",buy:s(d[6])||"--",sell:s(d[7])||"--",price:s(d[8])||"--",dsettlement:s(d[9])||"--",prevclose:s(d[10])||"--",buyVolume:parseInt(d[11])||"--",sellVolume:parseInt(d[12])||"--",capital:parseInt(d[13])||"--",totalVolume:parseInt(d[14])||"--",exchange:d[15]||"--",amplitude:l(d[3],d[4],d[10]),variety:d[16]||"--",date:d[17].substr(5)||"--",isHot:d[18],high5:s(d[19])||"--",low5:s(d[20])||"--",high10:s(d[21])||"--",low10:s(d[22])||"--",high20:s(d[23])||"--",low20:s(d[24])||"--",high55:s(d[25])||"--",low55:s(d[26])||"--",weightedAverage:s(d[27])||"--",change:n,percent:a,type:c,code:t.substr(3),area:u,url:this.hqHref.nfutures+t.substr(3),hqMarket:"FUTURES",turnOver:"--"}},L.DataHandle.prototype.GZfuturesObj=function(e,t,a){"notexist"===e&&(e=new Array(28).join(","));var n,o,c,u,d,p,h,_,m,v=e.split(","),y=x(t,a);o=i(v[3],v[14])[0],n=i(v[3],v[14])[1];var b=y?i(y[3],y[2]):"";b&&b[0],c=b?b[1]:"--",h=r(v[3],v[14],"GZ")[0],_=r(v[3],v[14],"GZ")[1];var g=y?r(y[3],y[2],"A"):"";return _typeCon=g?g[0]:"--",_areaCon=g?g[1]:"--",u=y?(parseFloat(v[3])-parseFloat(y[3])).toFixed(2):"--",d=y?(100*(parseFloat(v[3])-parseFloat(y[3]))/parseFloat(y[3])).toFixed(2)+"%":"--",p=y?u>0?"riseRed"===this._localType?"red":"green":u<0?"riseRed"===this._localType?"green":"red":"equal":"equal",m=v[49],{sinaSymbol:t,name:m,open:s(v[0])||"--",high:s(v[1])||"--",low:s(v[2])||"--",price:s(v[3])||"--",totalVolume:f(v[4])||"--",totalAmount:f(v[5])||"--",capital:parseInt(v[6])||"--",close:s(v[7])||"--",settlement:s(v[8])||"--",upLimit:s(v[9])||"--",downLimit:s(v[10])||"--",yvirtual:v[11],virtual:v[12],prevclose:s(v[14])||"--",prevcapital:parseInt(v[15])||"--",declarebuy:[s(v[16]),s(v[17]),s(v[18]),s(v[19]),s(v[20]),s(v[21]),s(v[22]),s(v[23]),s(v[24]),s(v[25])],declaresell:[s(v[26]),s(v[27]),s(v[28]),s(v[29]),s(v[30]),s(v[31]),s(v[32]),s(v[33]),s(v[34]),s(v[35])],date:v[36].substr(5)||"--",time:v[37]||"--",timems:parseInt(v[38])||"--",type:h,change:o,percent:n,amplitude:l(v[1],v[2],v[14]),code:t.substr(3),buyVolume:"--",sellVolume:"--",dsettlement:"--",area:_,priceIndex:y?s(y[3]):"--",
percentIndex:c,typeIndex:_typeCon,delta:u,deltaRatio:d,deltaType:p,url:this.hqHref.nfutures+t.substr(3),hqMarket:"FUTURES",turnOver:"--"}},L.DataHandle.prototype.DINIWObj=function(e,t){"notexist"===e&&(e=new Array(11).join(","));var a,n,o,c,u=e.split(","),d=i(u[8],u[3]);n=d[0],a=d[1];var p=r(u[8],u[3]);return o=p[0],c=p[1],{sinaSymbol:t,time:u[0]||"--",buy:s(u[1])||"--",sell:s(u[2])||"--",prevclose:s(u[3])||"--",spread:u[4]||"--",open:s(u[5])||"--",high:s(u[6])||"--",low:s(u[7])||"--",price:s(u[8])||"--",name:u[9]||"--",date:u[10]||"--",change:n,percent:a,type:o,amplitude:l(u[6],u[7],u[3]),area:c,code:t,url:this.hqHref.forex+t,myName:u[9]||"--"}},L.DataHandle.prototype.ForexObj=function(e,t){"notexist"===e&&(e=new Array(18).join(","));var a,n,o,c,u,d,p=4,h=e.split(",");p=Number(h[8])<10?4:Number(h[8])<100?3:2;var _=i(h[8],h[3],4);n=_[0],a=_[1];var m=r(h[8],h[3],"FX");o=m[0],c=m[1];var f=h[9].indexOf("\u5151")>-1?h[9].replace("\u5373\u671f\u6c47\u7387","").split("\u5151"):["--","--"];return u=f[1],"fx_susdcny"===t&&(u="\u4eba\u6c11\u5e01"),_subCode=t.substr(7).toUpperCase(),d=b(f[0])+"-"+b(f[1]),"fx_susdcny"===t&&(d="\u7f8e\u5143-\u4eba\u6c11\u5e01"),"fx_susdcnh"===t&&(d="\u7f8e\u5143-\u79bb\u5cb8\u4eba\u6c11\u5e01"),{sinaSymbol:t,time:h[0]||"--",buy:s(h[1],p)||"--",sell:s(h[2],p)||"--",prevclose:s(h[3],p)||"--",spread:h[4]||"--",open:s(h[5],p)||"--",high:s(h[6],p)||"--",low:s(h[7],p)||"--",price:s(h[8],p)||"--",name:h[9]||"--",percent:a,change:n,bofu:s(1*(h[6]-h[7]),p),amplitude:l(h[6],h[7],h[3],p),bank:h[13]||"--",high52:s(h[14],p)||"--",low52:s(h[15],p)||"--",trend:s(h[16],p)||"--",date:h[17]||"--",type:o,area:c,url:this.hqHref.forex+t.substr(4).toUpperCase(),code:t.substr(4).toUpperCase(),subName:u,subCode:_subCode,myName:d,hqMarket:"FOREX",turnOver:"--",totalVolume:"--",totalAmount:"--"}},L.DataHandle.prototype.GlobalObj=function(e,t){"notexist"===e&&(e=new Array(13).join(","));var a,n,o=e.split(",");return _precent=parseFloat(o[3])>0?"+"+o[3]+"%":o[3]+"%",a=parseFloat(o[2])>0?"+"+o[2]:o[2],n=parseFloat(o[3])>0?"riseRed"===this._localType?"red":"green":parseFloat(o[3])<0?"riseRed"===this._localType?"green":"red":"equal",{sinaSymbol:t,name:g(o[0])||"--",price:s(o[1])||"--",percent:_precent,change:a,date:o[4],time:o[5],type:n,url:"",sname:g(o[0]),code:t.substr(2)}},L.DataHandle.prototype.ZNBGBObj=function(e,t){var a,n,o,i,r=e.split(",");return a=parseFloat(r[3])>0?"+"+r[3]+"%":r[3]+"%",n=parseFloat(r[2])>0?"+"+r[2]:r[2],o=parseFloat(r[3])>0?"riseRed"===this._globalType?"red":"green":parseFloat(r[3])<0?"riseRed"===this._globalType?"green":"red":"equal",i=t.substr(4),{sinaSymbol:t,name:g(r[0])||"--",price:s(r[1])||"--",open:s(r[8])||"--",prevclose:s(r[9])||"--",high:s(r[10])||"--",low:s(r[11])||"--",symbol:t,code:i,url:this.hqHref.znb+i,percent:a,change:n,type:o,date:r[6],time:r[7],hqMarket:"ZNB"}},L.DataHandle.prototype.HkstockObj=function(e,t,a){"notexist"===e&&(e=new Array(19).join(",")),a||(a=new Array(1).join(","));var n,o,l,c,u,d=e.split(","),p=a.split(","),h=null;h=d[2]||d[9]||d[10]||d[3];var _="--";_=d[18]>="09:00:00"&&d[18]<"09:20:00"?s(d[9],3)||s(d[3],3)||"--":s(d[6],3)||s(d[3],3)||"--";var m=p&&p[9],v=m*_,y=p&&p[7],b=y*_,g=i(_,d[3],3);o=g[0],n=g[1],u=r(_,d[3])[0],l=["hkHSI","hkHSCEI","hkHSCCI"].indexOf(t)<0?f(d[11],3):f(1e3*d[11],3),c=f(d[12],3);var x=this.hqHref.hkstock+t.slice(2);return{sinaSymbol:t,ename:d[0]||"--",name:S(p[19])||S(p[15])||S(d[1])||"--",open:s(d[2],3)||"--",prevclose:s(d[3],3)||"--",high:s(d[4],3)||"--",low:s(d[5],3)||"--",price:_,change:o,percent:n,sell:s(d[9],3)||"--",buy:s(d[10],3)||"--",totalAmount:l,totalVolume:c,pe:s(d[13],3)||"--",returnRate:s(d[14],3)+"%"||"--",high52:s(d[15],3)||"--",low52:s(d[16],3)||"--",high52AndLow52:(s(d[16],3)||"--")+"~"+(s(d[15],3)||"--"),date:d[17]||"--",time:d[18]||"--",url:x,type:u,code:0===t.indexOf("rt_")?t.slice(5):t.slice(2),sname:S(d[1])||"--",hqMarket:"HK",turnOver:"--",totalCapital:b||null,totalCapitalAH:v||null,totalCapital_show:b&&(1e-8*b).toFixed(3)+"\u4ebf"||"--",totalCapitalAH_show:v&&(1e-8*v).toFixed(3)+"\u4ebf"||"--",equity_hk:y&&(1e-8*y).toFixed(3)+"\u4ebf"||"--",equity_all:m&&(1e-8*m).toFixed(3)+"\u4ebf"||"--",newprice:w(h,2)}},L.DataHandle.prototype.SBstockObj=function(e,t){"notexist"===e&&(e=new Array(39).join(","));var a,n,o,c,u,d=e.split(","),p=i(d[3],d[2]);n=p[0],a=p[1];var h=r(d[3],d[2],"SB");return o=h[0],_area=h[1],c=f(d[8],0),u=f(d[9],0),{sinaSymbol:t,name:d[0]||"--",open:s(d[1])||"--",prevclose:s(d[2])||"--",price:s(d[3])||"--",high:s(d[4])||"--",low:s(d[5])||"--",buy:s(d[6])||"--",sell:s(d[7])||"--",totalVolume:c,totalAmount:u,buyNumArr:[d[10],d[12],d[14],d[16],d[18]],buyPriceArr:[s(d[11]),s(d[13]),s(d[15]),s(d[17]),s(d[19])],sellNumArr:[d[20],d[22],d[24],d[26],d[28]],sellPriceArr:[s(d[21]),s(d[23]),s(d[25]),s(d[27]),s(d[29])],date:d[30],time:d[31],status:d[32],change:n,percent:a,type:o,url:this.hqHref.sanban+t,code:t,amplitude:l(d[4],d[5],d[2]),hqMarket:"SB"}},L.DataHandle.prototype.BitcoinObj=function(e,t){var a,n,o,c,u,d=e.split(",");c=function(e){return e.substr(4)}(t);var p=i(d[8],d[3]);return n=p[0],a=p[1],o=r(d[8],d[3],"BT")[0],u=f(d[10],0),{sinaSymbol:t,date:d[11]||"--",time:d[0]||"--",buy:s(d[1])||"--",sell:s(d[2])||"--",prevclose:s(d[3])||"--",spread:d[4]||"--",open:s(d[5])||"--",openisprevclose:s(d[3])||"--",high:s(d[6])||"--",low:s(d[7])||"--",price:s(d[8])||"--",name:d[9]||"--",totalVolume:u,change:n,percent:a,type:o,symbol:t,code:c,url:this.hqHref.bitcoin+c,amplitude:l(d[6],d[7],d[3])}},L.DataHandle.prototype.FUNDObj=function(e,t,a,n){var o=e.split(","),i=[],r=function(e,t){return e===t?"":e-t>0?"+":""},l=function(e,t){return isNaN(+e)?"--":(t=t||2,(+e).toFixed(t)+"%")},c=o[4],u=o[1]&&parseFloat(o[1])||"--",d=o[3]&&parseFloat(o[3])||"--";if("--"!==u&&"--"!==d)var p=parseFloat(u-d).toFixed(3);else var p="--";return i=n&&n.split(",")||null,{sinaSymbol:t,name:o[0],code:a,date:c,url:this.hqHref.fund+a,price:s(u,4),prevclose:d,percent:function(e,t){var a=r(e,t);if(!isNaN(parseFloat(e))&&!isNaN(parseFloat(t)))return a+(100*(e/t-1)).toFixed(2)+"%"}(o[1],o[3]),change:p,turnOver:"--",totalVolume:"--",totalAmount:"--",accumulate:i&&i[2]||"--",trimester:i&&l(i[5])||"--",fullYear:i&&l(i[7])||"--",triennium:i&&l(i[8])||"--",establishment:i&&l(i[10])||"--",hqMarket:"FUND"}},L.DataHandle.prototype.UKLSEObj=function(e,t,a){var n,o,r,l,c,d,p,h=e.split(","),_=a.split(","),m=parseFloat(h[5]);_[5]&&(p=Number(_[5]),h[8]&&h[8].split(" ")[0]===_[6]&&(prevClose=p));var v,y,b,S=parseFloat(h[1])||m,x=S-parseFloat(h[5]);c=_[0],d=_[1],b=parseFloat(_[4])?f(_[4]):"--",y=_[3]||"--",v=u(h[6],_[4])||"--",_totalShare=0!=_[4]?f(h[1]*_[4],0):"--",r=x>0?"riseRed"===this._globalType?"red":"green":x<0?"riseRed"===this._globalType?"green":"red":"equal";var k=i(S,m,3);return o=k[0],n=k[1],l=decodeURIComponent(t.substr(4).replace(/\$/gi,"%")),{sinaSymbol:t,name:c||d||g(h[0])||l||"--",price:s(h[1],3)||s(m,3)||"--",open:s(h[3],3)||"--",prevclose:s(h[5],3)||"--",high:s(h[2],3)||"--",low:s(h[4],3)||"--",symbol:t,currencyType:y,code:l,url:this.hqHref.lse+l,percent:n,change:o,type:r,totalCapital:b,totalAmount:f(h[7],2),totalShare:_totalShare,totalVolume:f(h[6],2),turnOver:v,date:h[8]&&h[8].split(" ")[0],time:h[8]&&h[8].split(" ")[1],hqMarket:"LSE"}},L.DataHandle.prototype.MSCIObj=function(e,t){var a=e.split(","),n=1*a[22],o=1*a[4]||n,i=o-n,r=100*i/n,l="equal",c=F(new Date(1*a[6]),"-").split(" "),u=c[0],d=c[1],p={hqMarket:"MSCI",sinaSymbol:t,code:t.substring(5),url:"https://finance.sina.cn/app/auto_download_finapp.shtml?source=zixuan01",name:a[0],enName:a[1],price:s(a[4],2)||s(a[22],2)||"--",prevclose:s(a[22],2)||"--",high:s(a[19],2)||"--",low:s(a[20],2)||"--",open:s(a[21],2)||"--",change:s(i,2)||"--",percent:(s(r,2)||"--")+"%",date:u,time:d};return l=i>0?"riseRed"===this._globalType?"red":"green":i<0?"riseRed"===this._globalType?"green":"red":"equal",p.type=l,p},e.HQ=L}}(window),function(){var e=window.HQ;e.DataBoxCfg={VERSION:"2.0"},e.DataBoxCfg.A=[{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"\u5e02\u76c8\u7387TTM",value:"pe"},{name:"\u6d41\u901a\u5e02\u503c",value:"cirValue"},{name:"\u603b\u5e02\u503c",value:"totalShare"},{name:"\u6628\u6536\u4ef7",value:"prevclose"},{name:"\u4eca\u5f00",value:"open"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"},{name:"\u6da8\u505c\u4ef7",value:"upLimit"},{name:"\u8dcc\u505c\u4ef7",value:"downLimit"},{name:"\u59d4\u6bd4",value:"fiveRate"},{name:"\u91cf\u6bd4",value:"volumeRatio"},{name:"\u4e70\u76d8",value:"tradeVolsBuy"},{name:"\u5356\u76d8",value:"tradeVolsSell"},{name:"\u6362\u624b\u7387",value:"turnOver"},{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6210\u4ea4\u989d",value:"totalAmount"},{name:"\u5e02\u51c0\u7387",value:"pb"},{name:"\u5e02\u76c8\u7387(\u9759)",value:"pej"},{name:"\u5e02\u76c8\u7387TTM",value:"ped"},{name:"\u6d41\u901a\u80a1\u672c",value:"cirCapital"},{name:"\u603b\u80a1\u672c",value:"totalCapital"},{name:"52\u5468\u6700\u9ad8",value:"max52"},{name:"52\u5468\u6700\u4f4e",value:"min52"}],e.DataBoxCfg.AI=[{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6da8\u8dcc\u5bb6",value:"zdj"},{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"\u6210\u4ea4\u989d",value:"totalAmount"},{name:"\u6628\u6536\u4ef7",value:"prevclose"},{name:"\u4eca\u5f00",value:"open"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"}],e.DataBoxCfg.Block=[{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6da8\u8dcc\u5bb6",value:"zdj"},{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"\u6210\u4ea4\u989d",value:"totalAmount"},{name:"\u6628\u6536\u4ef7",value:"prevclose"},{name:"\u4eca\u5f00",value:"open"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"}],e.DataBoxCfg.US=[{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"\u5e02\u503c",value:"totalShare"},{name:"\u5e02\u76c8\u7387",value:"pe"},{name:"\u6362\u624b\u7387",value:"turnOver"},{name:"\u4eca\u5f00",value:"open"},{name:"\u6628\u6536\u4ef7",value:"prevclose"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"},{name:"\u603b\u80a1\u672c",value:"totalCapital"},{name:"\u6bcf\u80a1\u6536\u76ca",value:"perProfit"},{name:"\u8d1d\u5854\u7cfb\u6570",value:"beta"},{name:"\u80a1\u606f",value:"dividend"},{name:"52\u5468\u6700\u9ad8",value:"high52"},{name:"52\u5468\u6700\u4f4e",value:"low52"}],e.DataBoxCfg.WH=[{name:"\u632f\u5e45",value:"amplitude"},{name:" \u6301\u4ed3\u91cf(\u624b)",value:"capital"},{name:"\u6628\u7ed3\u7b97",value:"prevclose"},{name:"\u5f00\u76d8\u4ef7",value:"open"},{name:"\u6700\u9ad8\u4ef7",value:"high"},{name:"\u6700\u4f4e\u4ef7",value:"low"},{name:"\u4e70\u4e00\u4ef7",value:"buy"},{name:"\u5356\u4e00\u4ef7",value:"sell"}],e.DataBoxCfg.HF=[{name:"\u632f\u5e45",value:"amplitude"},{name:" \u6301\u4ed3\u91cf(\u624b)",value:"capital"},{name:"\u6628\u7ed3\u7b97",value:"prevclose"},{name:"\u5f00\u76d8\u4ef7",value:"open"},{name:"\u6700\u9ad8\u4ef7",value:"high"},{name:"\u6700\u4f4e\u4ef7",value:"low"},{name:"\u4e70\u4e00\u4ef7",value:"buy"},{name:"\u5356\u4e00\u4ef7",value:"sell"}],e.DataBoxCfg.GOODS=[{name:"\u632f\u5e45",value:"amplitude"},{name:" \u6301\u4ed3\u91cf(\u624b)",value:"capital"},{name:"\u6628\u7ed3\u7b97",value:"prevclose"},{name:"\u5f00\u76d8\u4ef7",value:"open"},{name:"\u6700\u9ad8\u4ef7",value:"high"},{name:"\u6700\u4f4e\u4ef7",value:"low"},{name:"\u4e70\u4e00\u4ef7",value:"buy"},{name:"\u5356\u4e00\u4ef7",value:"sell"}],e.DataBoxCfg.NF=[{name:"\u632f\u5e45",value:"amplitude"},{name:"\u52a8\u7ed3\u7b97",value:"dsettlement"},{name:"\u6210\u4ea4\u91cf(\u624b)",value:"totalVolume"},{name:"\u6301\u4ed3\u91cf(\u624b)",value:"capital"},{name:"\u6628\u7ed3\u7b97",value:"prevclose"},{name:"\u5f00\u76d8\u4ef7",value:"open"},{name:"\u6700\u9ad8\u4ef7",value:"high"},{name:"\u6700\u4f4e\u4ef7",value:"low"},{name:"\u4e70\u4e00\u4ef7",value:"buy"},{name:"\u5356\u4e00\u4ef7",value:"sell"},{name:"\u4e70\u91cf",value:"buyVolume"},{name:"\u5356\u91cf",value:"sellVolume"}],e.DataBoxCfg.GZ=[{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6210\u4ea4\u91cf(\u624b)",value:"totalVolume"},{name:"\u6301\u4ed3\u91cf(\u624b)",value:"capital"},{name:"\u6628\u4ed3\u91cf(\u624b)",value:"prevcapital"},{name:"\u6628\u7ed3\u7b97",value:"prevclose"},{name:"\u5f00\u76d8\u4ef7",value:"open"},{name:"\u6700\u9ad8\u4ef7",value:"high"},{name:"\u6700\u4f4e\u4ef7",value:"low"},{name:"\u6da8\u505c\u4ef7",value:"upLimit"},{name:"\u8dcc\u505c\u4ef7",value:"downLimit"}],e.DataBoxCfg.FX=[{name:"\u4eca\u5f00",value:"open"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6628\u6536",value:"prevclose"},{name:"\u6700\u4f4e",value:"low"},{name:"\u4e70\u5165\u4ef7",value:"buy"},{name:"\u5356\u51fa\u4ef7",value:"sell"},{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6ce2\u5e45",value:"bofu"}],e.DataBoxCfg.DINIW=[{name:"\u4eca\u5f00",value:"open"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6628\u6536",value:"prevclose"},{name:"\u6700\u4f4e",value:"low"},{name:"\u4e70\u5165\u4ef7",value:"buy"},{name:"\u5356\u51fa\u4ef7",value:"sell"},{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6ce2\u5e45",value:"bofu"}],e.DataBoxCfg.BD=[{name:"\u4eca\u5f00",value:"open"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6628\u6536",value:"prevclose"},{name:"\u6700\u4f4e",value:"low"},{name:"\u4e70\u5165",value:"buy"},{name:"\u5356\u51fa",value:"sell"},{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"\u6210\u4ea4\u989d",value:"totalAmount"}],e.DataBoxCfg.BT=[{name:"\u4e70\u5165\u4ef7",value:"buy"},{name:"\u5356\u51fa\u4ef7",value:"sell"},{name:"\u6700\u9ad8\u4ef7",value:"high"},{name:"\u6700\u4f4e\u4ef7",value:"low"},{name:"\u632f\u5e45",value:"amplitude"},{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"\u5f00\u76d8\u4ef7",value:"openisprevclose"},{name:"\u6628\u6536\u4ef7",value:"prevclose"},{name:"\u70b9\u5dee",value:"spread"}],e.DataBoxCfg.ZNB=[{name:"\u4eca\u5f00",value:"open"},{name:"\u6628\u6536",value:"prevclose"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"}],e.DataBoxCfg.MSCI=[{name:"\u4eca\u5f00",value:"open"},{name:"\u6628\u6536",value:"prevclose"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"}],e.DataBoxCfg.LSE=[{name:"\u4eca\u5f00",value:"open"},{name:"\u6628\u6536",value:"prevclose"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"},{name:"\u6210\u4ea4\u989d",value:"totalAmount"},{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"\u5e01\u79cd",value:"currencyType"},{name:"\u80a1\u672c",value:"totalCapital"},{name:"\u5e02\u503c",value:"totalShare"},{name:"\u6362\u624b\u7387",value:"turnOver"}],e.DataBoxCfg.HK=[{name:"\u6628\u6536",value:"prevclose"},{name:"\u4eca\u5f00",value:"open"},{name:"\u6700\u9ad8",value:"high"},{name:"\u6700\u4f4e",value:"low"},{name:"\u5e02\u76c8\u7387",value:"pe"},{name:"\u6536\u76ca\u7387",value:"returnRate"},{name:"\u6e2f\u80a1\u80a1\u672c",value:"equity_hk"},{name:"\u603b\u80a1\u672c",value:"equity_all"},{name:"\u6e2f\u80a1\u5e02\u503c",value:"totalCapital_show"},{name:"\u603b\u5e02\u503c",value:"totalCapitalAH_show"},{name:"\u6210\u4ea4\u989d",value:"totalAmount"},{name:"\u6210\u4ea4\u91cf",value:"totalVolume"},{name:"52\u5468",value:"high52AndLow52"}]}();var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),docCookies={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,t,a,n,o,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var i="";if(a)switch(a.constructor){case Number:i=a===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+a;break;case String:i="; expires="+a;break;case Date:i="; expires="+a.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+(o?"; domain="+o:"")+(n?"; path="+n:"")+(s?"; secure":""),!0},removeItem:function(e,t,a){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(a?"; domain="+a:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,a=0;a<t;a++)e[a]=decodeURIComponent(e[a]);return e}},$d={$byId:document.getElementById.bind(document)},$s={loadStyle:function(e){var t=e.url,a=e.id,n="function"==typeof e.callback?e.callback:function(){},o=document.createElement("link"),s="onload"in o,i=function(){o&&(o.onload=o.onerror=o.onreadystatechange=null,o=null,n())};o.rel="stylesheet",o.type="text/css",o.href=t,void 0!==a&&(o.id=a),document.head.appendChild(o),s?(o.onload=i,o.onerror=i):o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&i()}}},defaultStyle={width:"111px",height:"50px",lineHeight:"50px",borderRadius:"5px",backgroundColor:"#000",opacity:.75,color:"#fff",fontSize:"13px",textAlign:"center",position:"fixed",top:"50%",left:"50%",marginTop:"-55px",marginLeft:"-55px",zIndex:"10001"},Toast=function(){function e(t,a){_classCallCheck(this,e),this.txt=t||"",this.duration=a||1e3}return _createClass(e,[{key:"show",value:function(){this.toast=document.createElement("div"),this.id=e.id(),this.toast.setAttribute("id",this.id),this.stylize(this.toast),this.toast.innerText=this.txt,document.body.appendChild(this.toast),setTimeout(this.destroy.bind(this),this.duration)}},{key:"stylize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultStyle;Object.keys(t).forEach(function(a){return e.style[a]=t[a]})}},{key:"destroy",value:function(){document.body.removeChild(document.getElementById(this.id))}}],[{key:"id",value:function(){return Date.now()%1e4}}]),e}(),conf={api:{hot:"//finance.sina.com.cn/hq/search/hot_search.js",SUGGEST:"//suggest3.sinajs.cn/suggest/",CONCERN:"//watchlist.finance.sina.com.cn/portfolio/api/openapi.php/HoldService.hasHold",ADDSELF:"//watchlist.finance.sina.com.cn/portfolio/api/openapi.php/HoldService.appendSymbol",DELSELF:"//watchlist.finance.sina.com.cn/portfolio/api/openapi.php/HoldService.delSymbolFace"},href:{nfutures:"//gu.sina.cn/ft/hq/nf.php?symbol=",hfutures:"//gu.sina.cn/ft/hq/hf.php?symbol=",usstock:"//gu.sina.cn/us/hq/quotes.php?code=",forex:"//gu.sina.cn/fx/hq/quotes.php?code=",stock:"//quotes.sina.cn/hs/company/quotes/view/",bond:"//gu.sina.cn/bd/hq/quotes.php?symbol=",sanban:"//gu.sina.cn/tm/hq/quotes.php?code=",hkstock:"//quotes.sina.cn/hk/company/quotes/view/",bitcoin:"//stocks.sina.cn/bit/detail?wh=",center:"//gu.sina.cn/m/#/stock/blockdetail?id=",fund:"//stocks.sina.cn/fund/?code=",znb:"//quotes.sina.cn/global/hq/quotes.php?code="}};docCookies.removeItem("symbol","/","sina.cn"),docCookies.removeItem("nbsearch","/","sina.cn");var tpl={container:{tail:"</div></div>",header:'<div class="hq_search" id="hq_search"><div class="hq_search-form"><i class="hq_search-form-back" id="destroy">\u53d6\u6d88</i><div class="hq_search-isearch"><input class="hq_search-form-input" id="suggestipt" placeholder="\u4ee3\u7801\uff0f\u62fc\u97f3\uff0f\u9996\u5b57\u6bcd\u7b49"></div><div class="hq_search-close" id="searchClose"><i class="iclose"></i></div></div><div class="hq_search-wrap" id="view">'},hot:{tail:"</div></div></div>",header:'<div class="hq_search-hot"><div class="hq_search-inner"><h3><i class="ihot"></i><span class="vbottom">\u70ed\u95e8\u641c\u7d22</span></h3><div class="hq_search-hot-list" suda-uatrack="key=fin_search&value=hot_search">'},history:{tail:"</ul></div></div></div>",header:'<div id="history"><div class="hq_search-history"><div class="hq_search-inner"> <h3><i class="ihistory"></i><span class="vbottom">\u641c\u7d22\u5386\u53f2</span></h3><ul class="hq_search-history-list"  suda-uatrack="key=fin_search&value=search_history">'},reslst:{tail:"</ul></div></div>",header:'<div><ul class="hq_search-list" id="hq_search-list" suda-uatrack="key=fin_search&value=search_result"><div class="hq_search-inner">'},lst404:{tpl:'<div class="hq_search-404"><i></i><h5>\u554a\u54c8\uff0c\u641c\u7d22\u7ed3\u679c\u4e3a\u7a7a~</h5></div>'},footer:{tpl:'<ul class="hq_search-feedback" id="hq_searchFeedback"><li><a href="//finance.sina.cn/">\u65b0\u6d6a\u8d22\u7ecf</a></li><li><a href="//gu.sina.cn/m/">\u8d22\u7ecf\u884c\u60c5</a></li><li><a href="//gu.sina.cn/m/feedback?from=nbsearchadvice">\u610f\u89c1\u53cd\u9988</a></li></ul>'}},Search=function(){function e(){_classCallCheck(this,e),this.container=null,this.default=null,this.hotView=null,this.historyView=null,this.view=null,this.historyNode=!1,this.mask=null,this.searchClose=null,this.suggestipt=null,this.destroybtn=null,this.ctrltimer=null,this.highlight="",this.end=new Date(2020,5,12),this.lst404=tpl.lst404.tpl,this.footer=tpl.footer.tpl,this.searchType=[11,12,21,22,23,24,25,26,27,72,31,32,33,41,71,73,77,78,79,81,86,87,100],this.specialList={qq50:"//stocks.sina.cn/op/?cid=76576"},this.styleUrl="//n.sinaimg.cn/finance/s_717/main.css?v=5",$s.loadStyle({url:this.styleUrl,id:"HQ_SEARCH_STYLE",callback:setTimeout(this.fetch.bind(this),30)}),this.searchStyle=$d.$byId("HQ_SEARCH_STYLE")}return _createClass(e,[{key:"fetch",value:function(){this.fetchHotData()}},{key:"fetchHotHandler",value:function(){var e=tpl.container;this.hotView=this.buildHot(hot_stocks),this.default=e.header+this.hotView+this.footer+e.tail,this.render(this.default),this.fetchHistory()}},{key:"fetchHotData",value:function(){jsonp({url:conf.api.hot,success:this.fetchHotHandler.bind(this)})}},{key:"fetchHistoryHandler",value:function(e){this.historyView=this.buildHistory(e),this.historyNode?this.historyNode.innerHTML=this.historyView:(this.render(this.view.innerHTML+=this.historyView),this.historyNode=$d.$byId("history"))}},{key:"refine",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.split(",").filter(function(e){return t?-1===e.indexOf("|")&&"nf_10000001"!==e:-1!==e.indexOf("|")||"nf_10000001"===e}).join(",")}},{key:"fetchHistory",value:function(){var e=this,t="",a=void 0,n=void 0;return docCookies.hasItem("bbsearch")&&(t=docCookies.getItem("bbsearch"),a=this.refine(t),n=this.refine(t,!1),a?new HQ.DataCenter({symbols:a,getObj:function(t){return e.fetchHistoryHandler(t)}}):n&&setTimeout(function(){return e.fetchHistoryHandler(n)},0)),this.historyView=""}},{key:"createMask",value:function(){this.mask=document.createElement("div"),this.mask.id="HQ_SEARCH",document.body.appendChild(this.mask),this.mask=$d.$byId("HQ_SEARCH")}},{key:"initView",value:function(e){this.default=e,this.createMask(),this.mask.innerHTML=this.default,this.view=$d.$byId("view"),this.size(),this.bindEvent(),"undefined"!=typeof SUDA&&SUDA.uaTrack("fin_search","all")}},{key:"adjustBottomBar",value:function(){var e=$d.$byId("hq_searchFeedback");if(e){var t=$d.$byId("hq_search"),a=t.offsetHeight,n=document.documentElement.offsetHeight;e.style.position=a>n?"absolute":"fixed"}}},{key:"render",value:function(e){return this.view?(this.view.innerHTML=e,this.adjustBottomBar()):(this.initView(e),this.adjustBottomBar())}},{key:"fetchSuggestHandler",value:function(e){var t=window[e];t?(this.render(this.buildList(this.str2array(t))),this.searchListClickHandler(),this.addSelectionCtrl()):this.render(this.lst404)}},{key:"bindEvent",value:function(){var e=this,t=this;this.searchClose=$d.$byId("searchClose"),this.suggestipt=$d.$byId("suggestipt"),this.destroybtn=$d.$byId("destroy"),this.suggestipt.focus(),this.searchClose.addEventListener("click",function(){return e.suggestipt.value="",e.searchClose.style.display="none",e.render(e.hotView+e.historyView+e.footer)},!1),this.destroybtn.addEventListener("click",function(){e.destroy(),"undefined"!=typeof SUDA&&SUDA.uaTrack("fin_search","search_cancel")},!1),this.suggestipt.addEventListener("input",function(){var e=this.value.toLowerCase(),a="suggest3_"+random();if(t.highlight=e,!e)return t.searchClose.style.display="none",t.render(t.hotView+t.historyView+t.footer);t.searchClose.style.display="block",jsonp({url:conf.api.SUGGEST+"type="+t.searchType.join(",")+"&key="+e+"&name="+a+"&num=15",success:t.fetchSuggestHandler.bind(t,a)})},!1)}},{key:"samples",value:function(e){var t=e.childNodes;return this.node2arr(t).map(function(e){if(e.classList.contains("hq_search-list-item"))return""+e.dataset.scode}).join(",")}},{key:"node2arr",value:function(e){return Array.apply(null,e)}},{key:"isLogin",value:function(){return checkLogin()}},{key:"addSelectionCtrl",value:function(){var e=this,t=document.querySelector(".hq_search-inner"),a=this.samples(t);this.isLogin()?jsonp({url:""+conf.api.CONCERN,data:{scode:a},jsoncallback:!0,success:function(t){0===t.status.code&&e.renderRealCtrlState(t.data),e.addAndDelSelectionHandler()}}):this.addAndDelSelectionHandler()}},{key:"selectCtrlLoginHandler",value:function(e){var t=void 0,a=void 0,n=void 0,o=void 0;e.classList.contains("select-ctrl-add")&&(t="ADDSELF",a="-\u5220\u81ea\u9009",n="select-ctrl-add",o="select-ctrl-del"),e.classList.contains("select-ctrl-del")&&(t="DELSELF",a="+\u81ea\u9009",n="select-ctrl-del",o="select-ctrl-add");var s=e.parentNode.dataset.scode;this.ctrltimer&&clearTimeout(this.ctrltimer),this.ctrltimer=setTimeout(function(){jsonp({url:""+conf.api[t],data:{scode:s},jsoncallback:!0,success:function(t){0===t.status.code?(e.innerText=a,e.classList.remove(n),e.classList.add(o),new Toast(t.status.msg).show()):new Toast(t.status.msg).show()}})},500)}},{key:"addAndDelSelectionHandler",value:function(){var e=this,t=document.querySelectorAll(".hq_search-list-item");this.node2arr(t).forEach(function(t){var a=t.lastElementChild;"SPAN"===a.tagName&&a.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.isLogin()?e.selectCtrlLoginHandler(a):location.replace("https://passport.sina.cn/signin/signin?entry=wapsso&vt=4&r="+encodeURIComponent(location.href))})})}},{key:"renderRealCtrlState",value:function(e){var t=document.querySelectorAll(".hq_search-list-item");this.node2arr(t).forEach(function(t){var a=t.dataset.selection;e.forEach(function(e){if(a===""+e.market+e.code){var n=t.lastElementChild;n.innerText="-\u5220\u81ea\u9009",n.classList.remove("select-ctrl-add"),n.classList.add("select-ctrl-del")}})})}},{key:"reset",value:function(){var e=document.body.style;e.overflow="auto",e.height="inherit"}},{key:"destroy",value:function(){document.body.removeChild(this.mask),document.head.removeChild(this.searchStyle),this.reset()}},{key:"wrapTag",value:function(e,t){var a=this.highlight.length,n=t.split(""),o=t.indexOf(e.toUpperCase()),s="<span style='color:#2572e8'>"+this.highlight+"</span>";return n.splice(o,a,s),"<span>"+n.join("")+"</span>"}},{key:"buildList",value:function(e){var t=this,a="",n=null,o="",s="",i="",r=["istock","istockB","ifund","iukstock","iusstock","iban","iforex","sanban","ibond","ifutures","izhi"],l=["istock","istockB","iusstock","iukstock","ifund","ifutures","iforex"],c="",u="",d="",p="",h="",_="",m=tpl.reslst,f=e?e.length:0,v="",y="",b="";return e.forEach(function(e,m){switch(n=e[1],d=e[4].toUpperCase(),m=d.indexOf(t.highlight.toUpperCase()),-1!==m&&(d=t.wrapTag(d[m],d)),n){case"11":c=e[3],p=e[3].toUpperCase(),o=conf.href.stock+c,i=r[0],u="",h="",v=c+"@cn",y=""+c;break;case"12":c=e[3],p=e[3].toUpperCase(),o=conf.href.stock+c,i=r[1],u="",h="",v=c+"@cn",y=""+c;break;case"21":case"22":case"23":case"24":case"25":case"26":case"27":case"72":c=e[2],p=e[3].toUpperCase(),o=conf.href.fund+c,i=r[2],u="",h="|"+e[4],v=c+"@fund",y="of"+c;break;case"31":case"32":c=e[2].toUpperCase(),p="HK"+e[3],o=conf.href.hkstock+c,i=r[3],u="hk",h="",v=c+"@hk",y=""+u+c;break;case"33":c=e[2].toUpperCase(),p=e[3].toUpperCase(),o=conf.href.hkstock+c,i=r[3],u="hk",h="",v=c+"@hk",y=""+u+c;break;case"41":p=e[2].toUpperCase(),c=e[2],-1!==c.indexOf(".")&&(c=c.replace(".","$")),o=conf.href.usstock+c.replace("$","."),i=r[4],u="gb_",h="",v=c.toUpperCase()+"@us",y="us"+c.toUpperCase();break;case"77":case"78":case"79":c=e[3],p=c.toUpperCase(),o=conf.href.center+c,i=r[5],h="|"+e[4],_="BLOCK";break;case"71":c=e[2],p=e[3].toUpperCase(),o=conf.href.forex+c,i=r[6],u="fx_s",h="",v=""+u+c+"@wh",y="wh"+u+c;break;case"73":c=e[2],p=e[3].toUpperCase(),o=conf.href.sanban+c,i=r[7],u="sb",h="";break;case"81":c=e[3],p=e[3].toUpperCase(),o=conf.href.bond+c,i=r[8],h="";break;case"87":c=e[2].toUpperCase(),p=e[3].toUpperCase(),o=10000001!=c?conf.href.nfutures+c:t.specialList.qq50,i=r[9],h="",u=10000001!=c?"nf_":(h="|50\u671f\u6743",c=""),v=""+u+c+"@gn",y="ft"+u+c.toLowerCase();break;case"86":c=e[2].toUpperCase(),p=e[3].toUpperCase(),o=conf.href.hfutures+c,i=r[9],u="hf_",h="",v=""+u+c+"@global",y="ft"+u+c;break;case"100":c=e[2].toUpperCase(),p=e[3].toUpperCase(),o=conf.href.znb+c,i=r[10],u="znb_",h=""}if(p){-1!==p.indexOf(t.highlight.toUpperCase())&&(p=t.wrapTag(t.highlight,p).toUpperCase())}-1!==l.indexOf(i)&&(b='<span class="select-ctrl-add">+\u81ea\u9009</span>'),s="istock"===i||"istockB"===i||"iukstock"===i?"?from=nbsearchresult":"&from=nbsearchresult",a=a+'<li class="hq_search-list-item" data-symbol="'+u+c+h+'" data-selection="'+y+'" data-scode="'+v+'" data-url="'+o+s+'"><i class="'+i+'"></i><p>'+d.toLowerCase()+"</p><div>"+p+"</div>"+b+"</li>"}),f>10?m.header+a+'<div class="hq_search-list-desc"><p>\u53ea\u5c55\u793a\u524d<span>15</span>\u6761\u7ed3\u679c</p><p>\u5982\u679c\u6ca1\u6709\u60a8\u60f3\u8981\u7684\uff0c\u8bf7\u8f93\u5165\u66f4\u7cbe\u786e\u7684\u5173\u952e\u8bcd\uff5e</p></div>'+m.tail:m.header+a+m.tail}},{key:"searchListClickHandler",value:function(){var e=this,t="",a=document.querySelectorAll(".hq_search-list-item");[].forEach.call(a,function(a){a.addEventListener("click",function(a){a.preventDefault(),e.recordHistory(this),(t=this.getAttribute("data-url"))&&(window.location.href=t,e.destroy())},!1)})}},{key:"recordHistory",value:function(e){var t=this,a=void 0,n=[],o=void 0;o=e.getAttribute("data-symbol"),a=docCookies.getItem("bbsearch"),a?(n=a.split(","),n.length<10?(t.uniq(n,o,!1),t.recordCookies(n.join(","))):(t.uniq(n,o,!0),t.recordCookies(n.join(",")))):t.recordCookies(o)}},{key:"uniq",value:function(e,t,a){var n=e.indexOf(t);return a?-1!==n?(e.splice(n,1),e.push(t)):e.shift()&&e.push(t):-1!==n?(e.splice(n,1),e.push(t)):e.push(t),e}},{key:"recordCookies",value:function(e){docCookies.setItem("bbsearch",e,this.end,"/","sina.cn")}},{key:"getCookies",value:function(){return docCookies.getItem("bbsearch")}},{key:"str2array",value:function(e){var t=[];return e.split(";").forEach(function(e){t.push(e.split(","))}),t}},{key:"buildHot",value:function(e){var t="",a=tpl.hot,n="",o=a.header;return e.forEach(function(e,a){switch(e.type){case 1:t="istock";break;case 2:t="iukstock";break;case 3:t="iusstock";break;case 4:t="ifund";break;case 5:t="ifutures";break;case 6:t="iforex";break;case 7:t="istock";break;case 8:t="ibond";break;case 9:t="sanban";break;case 10:t="ifutures";break;default:t=""}n+='<li><a href="'+e.url+'"><i class='+t+'></i><span class="vmiddle">'+e.name+"</span></a></li>",(a+1)%3==0&&(o=o+"<ul>"+n+"</ul>",n="")}),o+=a.tail}},{key:"getUserCustomRiseColor",value:function(e){var t=docCookies.getItem("hq_userColor")||"riseRed",a=-1!==e.indexOf("+"),n=-1!==e.indexOf("-");return a?"riseRed"===t?"red":"green":n?"riseRed"===t?"green":"red":"gray"}},{key:"buildHistory",value:function(e){if("string"==typeof e)return this.buildUnSupport(e);for(var t=tpl.history,a=docCookies.getItem("bbsearch").split(","),n="",o="",s="",i="",r=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,_=void 0;a.length;)if(r=a.pop(),l=Object.keys(e),-1!==l.indexOf(r)){switch(c=e[r],u=c.price,d=c.percent,p=c.name,h=c.code,_=c.hqMarket,i=this.getUserCustomRiseColor(d),_){case"A":s="istock",o=conf.href.stock+h;break;case"US":s="iusstock",o=conf.href.usstock+h;break;case"HK":s="iukstock",o=conf.href.hkstock+h;break;case"BD":s="ibond",o=conf.href.bond+h;break;case"FUTURES":s="ifutures",o=conf.href.hfutures+h;break;case"FOREX":s="iforex",o=conf.href.forex+h;break;case"SB":s="sanban",o=conf.href.sanban+h;break;case"ZNB":s="izhi",o=conf.href.znb+h}n+='<li><a href="'+o+'"><span><i class="'+s+'"></i><span class="vbottom">'+p+'</span></span><b class="'+i+'">'+u+'</b><b class="'+i+'">'+d+"</b></a></li>"}else n+=this.buildUnSupport(r);return t.header+n+t.tail}},{key:"buildUnSupport",value:function(e){var t=e.split(","),a=t.length,n="",o="",s=tpl.history,i=this.splitUnSupport(e),r=this.getCookies().split(",");return 1===a?(o='<li><a href="'+i.href+'"><span><i class="'+i.className+'"></i>'+i.name+"</span></li>",1===r.length?s.header+o+s.tail:o):(t.reverse().forEach(function(){n+='<li><a href="'+i.href+'"><span><i class="'+i.className+'"></i>'+i.name+"</span></li>"}),s.header+n+s.tail)}},{key:"splitUnSupport",value:function(e){var t=e.split("|"),a=t[0],n=t[1],o=this.getUnSupportMsgBy(a);return{symbol:a,name:n,className:o.className,href:o.href}}},{key:"getUnSupportMsgBy",value:function(e){var t="",a="";return-1!==e.indexOf("_")?(t="iban",a=conf.href.center+e):-1===e.indexOf("_")&&6===e.length?(t="ifund",a=conf.href.fund+e):(t="ifutures",a=this.specialList.qq50),{className:t,href:a}}},{key:"size",value:function(){var e=document.body.style;e.height=screen.height+"px",e.overflow="hidden"}}]),e}();!function(){var e=window.HQ,t=e.DataBoxCfg;e.DataBox=function(t){this._config={boxId:"",symbol:"",isShow:!1,addOptional:!0,hasAppPopup:!0,fxReverse:!1},this._configData={symbols:"",getObj:null,getStr:null,isHKClickFresh:!0,isANeedCWZJ:!1,isANeedQZ:!1,isANeedPHP:!1,QZindex:"",eachOrder:!1,isHKNeed_i:!0};for(var a in this._config)t.hasOwnProperty(a)&&(this._config[a]=t[a]);for(var n in this._configData)t.hasOwnProperty(n)?this._configData[n]=t[n]:"symbols"===n&&(this._configData[n]=t.symbol);this._Symbol="",this._Parent="",this._BoxMain="",this._Market="",this._DataCfg=null,this._DataCenter=null,this._OneNodes={},this._ReNodes={},this._ScreenWidth=0,this._Events={},this._Utils=e.DataUtils,this._Filled=!1,this._Showing=this._config.isShow,this._Login=!1,this._OptStatus=!0,this._OptKey=!0,this._OptApi="//watchlist.sina.cn/portfolio/api/openapi.php/",this._isOptOld=!1,this._noOptArr=/sinanews/i.test(navigator.userAgent)?["ZNB","LSE","US","A","HK","AI","HF","NF","FX"]:["ZNB","LSE","GOODS","MSCI"],this._init()},e.DataBox.prototype={constructor:e.DataBox,_init:function(){this._Market=this._getMarket(this._config.symbol),this._DataCfg=t[this._Market],
this._Symbol="LSE"===this._Market?this.lseCode(this._config.symbol):this._config.symbol.replace(/\./g,"$"),this._ScreenWidth=this._Utils.viewData().viewWidth,this._isOptOld="US"===this._Market||"A"===this._Market||"AI"===this._Market||"HK"===this._Market,this._createBox(this._Market,this._Symbol),this._loadData(),this._config.hasAppPopup&&this.appPopup.create()},_createBox:function(e,t){var a=this,n=document.createElement("div");n.id="HQBox_Main",a._Parent=document.getElementById(a._config.boxId),a._Parent.appendChild(n),a._createNames(),a._createPoint(),a._createDetail(e),a._createSpecial(t,e),a._BoxMain=document.getElementById("HQBox_Main")},_createNames:function(){var e=this,t=document.getElementById("HQBox_Main"),a=document.createElement("div");a.id="HQBox_Names",a.className="hqbox-names",t.appendChild(a),a.innerHTML='<h2 id="HQBox_Names_name" class="hqbox-names-name">--</h2><ul class="hqbox-names-subnames" id="HQBox_Names_subnames"><li class="hqbox-names-code" id="HQBox_Names_code">--</li></ul>',e._OneNodes.name=document.getElementById("HQBox_Names_name"),e._OneNodes.code=document.getElementById("HQBox_Names_code")},_createPoint:function(){var e=this,t=document.getElementById("HQBox_Main"),a=document.createElement("div");a.id="HQBox_Point",a.className="hqbox-point",t.appendChild(a),a.innerHTML='<div class="hqbox-point-main"><div class="hqbox-point-data"><div class="hqbox-point-price" id="HQBox_Point_price">--</div><ul class="hqbox-point-more"><li class="hqbox-point-moreitem" id="HQBox_Point_change">--</li><li class="hqbox-point-moreitem" id="HQBox_Point_percent">--</li></ul></div><div class="hqbox-point-special"><div class="hqbox-point-sbtns" id="HQBox_Point_Sbtns"></div><div class="hqbox-point-stime" id="HQBox_Point_Stime"></div></div></div>',e._ReNodes.price=document.getElementById("HQBox_Point_price"),e._ReNodes.change=document.getElementById("HQBox_Point_change"),e._ReNodes.percent=document.getElementById("HQBox_Point_percent")},_createDetail:function(e){function t(e){var t="";return t+='<dl class="hqbox-detail-item"><dt class="name">'+e.name+'</dt><dd id="HQBox_Detail_'+e.value+'" class="val">--</dd></dl>'}var a=this,n=a._DataCfg,o=a._Events,s=a._Utils,i=document.getElementById("HQBox_Main"),r=document.createElement("div"),l=document.createElement("div"),c=n.map(function(e){return t(e)}),u=[];r.id="HQBox_Detail",r.className="hqbox-detail",i.appendChild(r),l.id="HQBox_Arrowbox",l.className="hqbox-arrowbox","ZNB"!==e&&i.appendChild(l),u.length=Math.ceil(c.length/2);for(var d=0;d<u.length;d++)u[d]=c[2*d]+(c[2*d+1]||""),u[d]=d>1?a._Showing?'<li class="hqbox-detail-row" style="display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex;">'+u[d]+"</li>":'<li class="hqbox-detail-row" style="display:none">'+u[d]+"</li>":'<li class="hqbox-detail-row">'+u[d]+"</li>";r.innerHTML="<ul>"+u.join("")+"</ul>",a._Showing?l.innerHTML='<i class="hqbox-arrow hqbox-arrow-open" id="HQBox_Arrow"></i>':l.innerHTML='<i class="hqbox-arrow hqbox-arrow-close" id="HQBox_Arrow"></i>';var p=document.createElement("div");switch(p.id="HQBox_Detail_More",p.className="hqbox-detail-more",a._Market){case"A":var h=document.createElement("div");h.id="kcbAStock",r.appendChild(h);break;case"FX":p.innerHTML='\u62a5\u4ef7\uff1a<span id="HQBox_Names_bank">--</span>',r.appendChild(p),a._OneNodes.bank=document.getElementById("HQBox_Names_bank")}n.forEach(function(e,t){a._ReNodes[e.value]=document.getElementById("HQBox_Detail_"+e.value)}),o.showDetail=function(){"ZNB"!==e&&a.toggle()},s.on(r,"click",function(){o.showDetail()}),s.on(l,"click",function(){o.showDetail()})},_createSpecial:function(e,t){switch(this._config.addOptional&&-1===this._noOptArr.indexOf(this._Market)&&this._createAddopt(t),this._Market){case"FX":this._createFxSpecial();break;case"US":this._createUSSpecial();break;case"A":this._createASpecial();break;case"HK":this._createHKSpecial(e);break;default:this._createDeSpecial(e,t)}},_createAddopt:function(e){if("Block"!==e){var t=this,a=t._Events,n=t._Utils,o=t.getScode(t._config.symbol,1)[0],s=(t.getScode(t._config.symbol,1)[1],t._OptApi+"HoldV2Service.hasHold?scode="+o+"&source=wap_mzx"),i="",r=document.getElementById("HQBox_Names"),l=document.createElement("div");if(l.id="HQBox_Names_Add",l.className="hqbox-names-addbtn","HK"===e){var t=this,c=document.createElement("div");c.className+="hqbox-hk-refresh",c.innerHTML="\u5b9e\u65f6\u5237\u65b0",r.appendChild(c),c.addEventListener("click",function(){if(t._loadData(),!window.glchart)throw new Error("nil global chart");glchart.update()})}if("A"===e){var u=document.createElement("div");u.id="hqboxCallBox",u.className+="hqbox-call-box",u.innerHTML="\u8bbe\u7f6e\u63d0\u9192",r.appendChild(u)}"undefined"!=typeof checkLogin&&(this._Login=checkLogin(),t._Login||(t._OptStatus=!1,i="+ \u6dfb\u52a0\u81ea\u9009"),n.jsonp({url:s,jsoncallback:!0,success:function(e){0===e.status.code?(t._OptStatus=!0,i="- \u5220\u9664\u81ea\u9009"):110===e.status.code&&(t._OptStatus=!1,i="+ \u6dfb\u52a0\u81ea\u9009"),r.appendChild(l),l.innerHTML=i,a.addOption=function(){t.addOption()},n.on(l,"click",function(){a.addOption()})}}))}},_createHKSpecial:function(t){var a=this;document.getElementById("HQBox_Point_Stime").innerHTML='<span id="HQBox_Special_status">--</span> <span id="HQBox_Special_datetime">--</span>',a._ReNodes.datetime=document.getElementById("HQBox_Special_datetime")||"",a._ReNodes.status=document.getElementById("HQBox_Special_status")||"",this._Utils.jsonp({url:"//stock.finance.sina.com.cn/hkstock/api/openapi.php/HK_StockService.getHgtAndAH?symbol="+t.substr(2),jsoncallback:!0,success:function(n){var o=n.data.Asymbol,s="",i=document.getElementById("HQBox_Names_name");if(n.data.ght&&(s="[\u6caa\u80a1\u901a]"),n.data.hgt&&(s="[\u6e2f\u80a1\u901a]"),n.data.sgt&&(s="[\u6df1\u80a1\u901a]"),setTimeout(function(){var e=document.createElement("span");e.innerHTML=s,e.style.fontSize="12px",i.appendChild(e)},50),0===n.status.code&&"string"==typeof o&&o.length>0){var r=[];r.push(o),r.push(t),r.push("fx_scnyhkd");var l=document.createElement("div");l.id="HKExtra",l.className="HQBox_HK_Special",l.innerHTML='<a suda-uatrack="key=wap_hk&value=astock_related" href="'+e.DataHref.stock+o+'"><span class="HQBox_Special-title">A\u80a1</span><span class="HQBox_Special-price">--</span><span class="HQBox_Special-change">--</span><span class="HQBox_Special-ratio">--</span><span class="HQBox_Special-premium">H/A\u6ea2\u4ef7 --</span><a data-is="daicon" class="HQBox_Special-tui" suda-uatrack="key=wap_hk&value=hk_level2"></a></a>',a._Parent.appendChild(l);var c={symbols:r.join(","),QZindex:!1,isANeedQZ:!1,isANeedPHP:!1,isANeedCWZJ:!1},u=0,d=0,p=0,h="red",_=document.querySelector(".HQBox_Special-price"),m=document.querySelector(".HQBox_Special-change"),f=document.querySelector(".HQBox_Special-ratio"),v=document.querySelector(".HQBox_Special-premium");a._DataCenter=new e.DataCenter(c,function(e){u=e[o].price,d=e[t].price,p=e.fx_scnyhkd.buy,h=e[o].type,a._Utils.setInnerText(_,e[o].price),a._Utils.setInnerText(m,e[o].change),a._Utils.setInnerText(f,e[o].percent),a._Utils.setInnerText(v,"H/A\u6ea2\u4ef7"+((d-u*p)/(u*p)*100).toFixed(3)+"%"),_.style.color=m.style.color=f.style.color="red"===h?"#de3639":"#1bc07d"})}else{var l=document.createElement("div");l.id="HKExtra",l.className="HQBox_HK_Special",l.innerHTML='<div><a data-is="datxt" suda-uatrack="key=wap_hk&value=hk_level2" style="font-size:13px;color:#000;">APP\u7248\u6e2f\u80a1Level 2\u66f4\u4f18\u60e0\u66f4\u4fbf\u6377</a><a data-is="daicon" class="HQBox_Special-tui" suda-uatrack="key=wap_hk&value=hk_level2"></a></div>',a._Parent.appendChild(l)}}})},_getHkStatus:function(){var e=this,t=document.getElementById("HQBox_Point_Sbtns"),a=function(e){var t="",a=e.split(" ");return a.forEach(function(e,n){if(0===n){var o=a[n].split("-");t+=(o[1]||"--")+"/"+(o[2]||"--")}else{var s=a[n].split(":");t+=" "+(s[0]||"--")+":"+(s[1]||"--")}}),t};this._Utils.jsonp({url:"//stock.finance.sina.com.cn/hkstock/api/openapi.php/HK_StockService.getTongBalance?rn="+random(),jsoncallback:!0,success:function(e){0===e.status.code?t.innerHTML="\u5357\u5411\u4f59\u989d:"+(e.data.ggt_total_remain/1e8).toFixed(3)+"\u4ebf":t.innerHTML="--"}}),this._Utils.jsonp({url:"//stock.finance.sina.com.cn/iphone/api/openapi.php/HqService.getHqStatus?format=json&type=hk",jsoncallback:!0,success:function(t){var n="";if(0===t.status.code){switch(t.data.status){case 1:n=t.data.msg;break;case 2:n="\u5468\u672b\u4f11\u5e02";break;case 3:n="\u7279\u6b8a\u8282\u65e5"}e._ReNodes.datetime.innerHTML=a(t.data.hq_time),e._ReNodes.status.innerHTML=n}}})},_createDeSpecial:function(e,t){var a=this,n=(a._Events,a._Utils,document.getElementById("HQBox_Point_Stime")),o=document.getElementById("HQBox_Point_Sbtns"),s='<span id="HQBox_Special_date">--</span> <span id="HQBox_Special_time">--</span>';t&&"HF"===t.toUpperCase()&&window.innerWidth>320&&(s='<span>\u5317\u4eac\u65f6\u95f4 </span><span id="HQBox_Special_date">--</span> <span id="HQBox_Special_time">--</span>'),n.innerHTML=s,"btc_btcokcoin"===e&&(o.innerHTML="\u8ba1\u4ef7\u5355\u4f4d\uff1a\u4eba\u6c11\u5e01"),"btc_btcbitstamp"===e&&(o.innerHTML="\u8ba1\u4ef7\u5355\u4f4d\uff1a\u7f8e\u5143"),a._ReNodes.time=document.getElementById("HQBox_Special_time")||"",a._ReNodes.date=document.getElementById("HQBox_Special_date")||""},_createUSSpecial:function(){var e=this;e._Events,e._Utils,document.getElementById("HQBox_Point_Sbtns");document.getElementById("HQBox_Point_Stime").innerHTML='<span id="HQBox_Special_regTime">--</span>',e._ReNodes.regTime=document.getElementById("HQBox_Special_regTime")},_createUSExtbox:function(e){function t(e){var t=(localStorage.getItem("hq_riseColor"),[document.getElementById("HQBox_USext_extPrice"),document.getElementById("HQBox_USext_extChange"),document.getElementById("HQBox_USext_extPercent")]),a="";switch(e){case"red":a="#de3639";break;case"green":a="#1bc07d";break;case"equal":a="#999999"}t.forEach(function(e){e.style.color=a})}var a=this,n=(a._Utils,document.getElementById(this._config.boxId)),o=document.getElementById("HQBox_USext"),s=document.createElement("div"),i='<aside class="hqbox-usextarea-title"><span class="titlebox">'+e[a._Symbol].extType+'</span><span class="titlebox" id="HQBox_USext_extTime">--</span></aside><ul class="hqbox-usextarea-values"><li id="HQBox_USext_extPrice" class="hqbox-usextarea-value">--</li><li id="HQBox_USext_extChange" class="hqbox-usextarea-value">--</li><li id="HQBox_USext_extPercent" class="hqbox-usextarea-value">--</li></ul>';if("--"===e[a._Symbol].extType){if(!o)return;n.removeChild(o),delete a._ReNodes.extPrice,delete a._ReNodes.extChange,delete a._ReNodes.extPercent,delete a._ReNodes.extTime}else{if(o)return void t(e[a._Symbol].extColor);s.id="HQBox_USext",s.className="hqbox-usextarea",n.appendChild(s),s.innerHTML=i,t(e[a._Symbol].extColor),a._ReNodes.extPrice=document.getElementById("HQBox_USext_extPrice"),a._ReNodes.extChange=document.getElementById("HQBox_USext_extChange"),a._ReNodes.extPercent=document.getElementById("HQBox_USext_extPercent"),a._ReNodes.extTime=document.getElementById("HQBox_USext_extTime")}},_createFxSpecial:function(){var e=this,t=e._Events,a=e._Utils;if(this._createDeSpecial(),this._config.fxReverse){var n=document.getElementById("HQBox_Point_Sbtns"),o=document.createElement("div");o.id="HQBox_Point_Rvs",o.className="hqbox-point-btn",n.appendChild(o),o.innerHTML='<i class="hqbox-btns-rvs"></i><span>\u53cd\u5411\u6c47\u7387</span>',t.forexReverse=function(e){var t=e.substr(4).toUpperCase(),a=e.substr(4).toLowerCase(),n=location.href,o="",s="";n.indexOf(t)>-1?(o=t.slice(3)+t.slice(0,3),s=n.replace(t,o)):(o=a.slice(3)+a.slice(0,3),s=n.replace(a,o)),location.replace(s)},a.on(o,"click",function(){t.forexReverse(e._Symbol)})}},_createAKCBSpecial:function(e){var t=this,a=document.getElementById("kcbAStock"),n=[{name:"\u53d1\u884c\u80a1\u672c",value:"issuedCapital"},{name:"\u603b\u6ce8\u518c\u80a1\u672c",value:"totalRegisteredCapital"},{name:"\u540c\u80a1\u540c\u6743",value:"sameShareAndRight"}],o=function(t){var a="",n=t.name,o=e[t.value];return a+='<dl class="hqbox-detail-item"><dt class="name">'+n+'</dt><dd id="HQBox_Detail_'+t.value+'" class="val">'+o+"</dd></dl>"},s=n.map(function(e){return o(e)}),i=[];i.length=Math.ceil(s.length/2);for(var r=0;r<i.length;r++)i[r]=s[2*r]+(s[2*r+1]||""),i[r]=t._Showing?'<li class="hqbox-detail-row" style="display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex;">'+i[r]+"</li>":'<li class="hqbox-detail-row" style="display:none">'+i[r]+"</li>";a.innerHTML="<ul>"+i.join("")+"</ul>";var l='<ul class="hqbox-usextarea-values"><li class="hqbox-usextarea-value">\u76d8\u540e\u91cf</li><li id="HQBox_USext_extChange" class="hqbox-usextarea-value">'+e.afterVolume+'</li><li class="hqbox-usextarea-value">\u76d8\u540e\u989d</li><li id="HQBox_USext_extPercent" class="hqbox-usextarea-value">'+e.afterAmount+"</li></ul>";if(0!==e.hasAfterExt){var c=document.getElementById("HQBox_CNext");if(c)c.innerHTML=l;else{var u=document.createElement("div"),d=document.getElementById(this._config.boxId);u.id="HQBox_CNext",u.innerHTML=l,d.appendChild(u)}}},_createASpecial:function(){var e=this;e._Events,e._Utils;document.getElementById("HQBox_Point_Stime").innerHTML='<span id="HQBox_Special_halt">--</span> <span id="HQBox_Special_date">--</span> <span id="HQBox_Special_time">--</span>',e._ReNodes.halt=document.getElementById("HQBox_Special_halt")||"",e._ReNodes.time=document.getElementById("HQBox_Special_time")||"",e._ReNodes.date=document.getElementById("HQBox_Special_date")||""},_createAppBoard:function(){var t=this,a=document.createElement("div"),n=a.style;n.background="#ffffff",n.textAlign="center",n.height=".6rem",n.color="#333",n.lineHeight=".6rem",n.fontSize="12px",a.innerHTML="\u6253\u5f00\u5ba2\u6237\u7aef\u67e5\u770b\u66f4\u591a\u6570\u636e\u4fe1\u606f",this._Parent.appendChild(a),e.DataUtils.on(a,"click",function(){t._callUpAppBoard()})},_callUpAppBoard:function(){var e={subname:"moredata",eventid:"hq_center_hs",uatrackKey:"hq_center_hs",needOpenSource:!1,androidInstallUrl:"http://file.finance.sina.com.cn/finapp/apks/sinafinance_waphangqing.apk"};new SinaFinanceCallUp.CallUpSinaFinance(e).tryDirectCall({symbol:this._Symbol,stocktype:"cn",callpagetype:"2",position:"moredata"})},_loadData:function(){var t=this;t._DataCenter=new e.DataCenter(t._configData,function(e){t._refresh(e)})},_getMarket:function(e){var t="",a=/^sh(20|1|009|010|020|019)/,n=/^sz(100|101|108|109|111|112|115|12|13|106|107)/;return 0===e.indexOf("sh")||0==e.indexOf("sz")?/^(sh00)\d+/.test(e)||/^(sz399)\d+/.test(e)?"AI":n.test(e)||a.test(e)?"BD":"A":0===e.indexOf("gb_")||0===e.indexOf("usr_")?"US":0===e.indexOf("hf_")?["BP","CD","EC","JY","SF","DXF"].indexOf(e)>-1?"WH":"HF":0===e.indexOf("nf_")?(t=e.substr(3).replace(/[0-9]/gi,""),["IF","TF","T","IH","IC"].indexOf(t)>-1?"GZ":"NF"):e.indexOf("DINIW")>-1||e.indexOf("XAGUSD")>-1||e.indexOf("XAUUSD")>-1||e.indexOf("EURI")>-1?"DINIW":0===e.indexOf("fx_s")?"FX":0===e.indexOf("b_")?"B":0===e.indexOf("znb_")?"ZNB":0===e.indexOf("hk")?"HK":0===e.indexOf("sb")?"SB":0===e.indexOf("btc_")?"BT":/(hy|gn|dy)\d{7}/i.test(e)?"Block":0===e.indexOf("lse_")?"LSE":0===e.indexOf("gds_")?"GOODS":0===e.indexOf("msci_")?"MSCI":void 0},_refresh:function(e){var t=this,a=t._Utils;"A"===t._Market&&e[t._Symbol]&&1===e[t._Symbol].isKCB&&t._createAKCBSpecial(e[t._Symbol]),"HK"===t._Market&&this._getHkStatus(),"US"===t._Market&&this._createUSExtbox(e),t._Filled||(Object.keys(t._OneNodes).forEach(function(n,o){if("code"===n&&"US"===t._Market&&"--"!==e[t._Symbol].usMarket)a.setInnerText(t._OneNodes[n],e[t._Symbol].usMarket+":"+e[t._Symbol].code.toUpperCase());else if("code"===n&&"BT"===t._Market){var s,i;s=e[t._Symbol].code,0===s.indexOf("btc"),i=s.substr(3).toUpperCase(),t._OneNodes[n].innerHTML=i}else{var r="name"===n&&"HF"===t._Market?e[t._Symbol][n]+"CFD":e[t._Symbol][n];a.setInnerText(t._OneNodes[n],r.replace(/^\./,"").toUpperCase())}}),t._Filled=!0),t._BoxMain.className="hqbox-bg"+e[t._Symbol].type,Object.keys(t._ReNodes).forEach(function(n,o){if(parseFloat(a.getInnerText(t._ReNodes[n]))!==e[t._Symbol][n])if("extTime"===n&&"US"===t._Market)a.setInnerText(t._ReNodes.extTime,e[t._Symbol].extTime.substring(7,14));else if("zdj"!==n||"AI"!==t._Market&&"Block"!==t._Market){if(e[t._Symbol].price.toString().length>6&&parseFloat(t._ScreenWidth)<375?t._ReNodes.price.style.fontSize="28px":t._ReNodes.price.style.fontSize="36px",e[t._Symbol].halt&&"\u9000\u5e02"===e[t._Symbol].halt)return"change"===n||"percent"===n||"time"===n||"halt"===n||"date"===n||"time"===n?a.setInnerText(t._ReNodes[n],""):"price"===n?a.setInnerText(t._ReNodes[n],"\u9000\u5e02"):a.setInnerText(t._ReNodes[n],"--");if(a.setInnerText(t._ReNodes[n],e[t._Symbol][n]||""),"HK"===t._getMarket(t._Symbol)&&"price"===n){var s="\u6e2f\u5143";/[A-Z]/.test(t._Symbol.substr(2,1))&&(s=""),document.getElementById("HQBox_Point_price").innerHTML=e[t._Symbol][n]+'<span style="font-size: 12px !important;">'+s+"</span>"}}else a.setInnerText(t._ReNodes[n],e[t._Symbol].riseStockNum+"/"+e[t._Symbol].fallStockNum)})},toggle:function(){for(var e=this,t=document.getElementById("HQBox_Detail"),a=document.getElementById("HQBox_Arrow"),n=document.getElementById("HQBox_Detail_More"),o=a.className,s=Array.prototype.slice.call(t.getElementsByTagName("li")),i=0;i<s.length;i++)i>1&&(e._Showing?-1===s[i].getAttribute("class").indexOf("hide")&&(s[i].classList.remove("show"),s[i].classList.add("hide")):-1===s[i].getAttribute("class").indexOf("show")&&(s[i].classList.remove("hide"),s[i].classList.add("show")));e._Showing?(a.className=o.replace("hqbox-arrow-open","hqbox-arrow-close"),n&&(n.style.display="none")):(a.className=o.replace("hqbox-arrow-close","hqbox-arrow-open"),n&&(n.style.display="block")),e._Showing=!e._Showing},getScode:function(e,t){var a=this;if("US"===a._Market){if(e.indexOf("gb_")>-1)return t?[e.replace("gb_","").toLowerCase()+"@us","us"]:[e.replace("gb_","").toUpperCase()+"@us","us"];if(e.indexOf("usr_")>-1)return t?[e.replace("usr_","us").toUpperCase(),"us"]:[e.replace("usr_","").toUpperCase(),"us"]}else{if("A"===a._Market||"AI"===a._Market)return[e+"@cn","cn"];if("HK"===a._Market)return[e.substr(2)+"@hk","hk"];if("FX"===a._Market||"DINIW"===a._Market)return[e+"@wh","wh"];if("HF"===a._Market)return[e+"@global","global"];if("WH"===a._Market)return[e+"@fox","fox"];if("NF"===a._Market)return[e+"@gn","gn"];if("GZ"===a._Market)return[e+"@cff","cff"];if("SB"===a._Market)return[e,"sb"];if("B"===a._Market)return[e,"wd"];if("BD"===a._Market){return/(^sz131|^sh204)\d{3}$/i.test(e)?[e+"@rp","bd"]:[e+"@cb","bd"]}if("BT"===a._Market)return[e+"@wh","bt"];if("ZNB"===a._Market)return[e,"znb"];if("LSE"===a._Market)return[e.replace("lse_","").toLowerCase()+"@uk","uk"];if("GOODS"===a._Market)return[e+"@goods","goods"]}},addOption:function(){if(this._OptKey){this._OptKey=!1;var e=this,t=(e._Events,e._Utils),a=document.getElementById("HQBox_Names_Add"),n="",o=e.getScode(e._config.symbol)[0],s=(e.getScode(e._config.symbol)[1],""),i="";if(!e._Login)return i="https://passport.sina.cn/signin/signin?entry=wapsso&vt=4&r="+encodeURIComponent(location.href),void location.replace(i);n=this._OptStatus?(this._isOptOld,e._OptApi+"HoldV2Service.delSymbolFace?scode="+o+"&source=wap_mzx"):(this._isOptOld,e._OptApi+"HoldV2Service.appendSymbol?scode="+o+"&source=wap_mzx"),t.jsonp({url:n,jsoncallback:!0,success:function(t){e._isOptOld?e._OptStatus?(s="+ \u6dfb\u52a0\u81ea\u9009",e.appPopup.open("\u81ea\u9009\u80a1\u5220\u9664\u6210\u529f")):(s="- \u5220\u9664\u81ea\u9009",e.appPopup.open("\u81ea\u9009\u80a1\u6dfb\u52a0\u6210\u529f")):0===t.status.code&&(e._OptStatus?(s="+ \u6dfb\u52a0\u81ea\u9009",e.appPopup.open("\u81ea\u9009\u80a1\u5220\u9664\u6210\u529f")):(s="- \u5220\u9664\u81ea\u9009",e.appPopup.open("\u81ea\u9009\u80a1\u6dfb\u52a0\u6210\u529f"))),SUDA.uaTrack("hq_center_hs","add_stock"),e._OptStatus=!e._OptStatus,a.innerHTML=s,e._OptKey=!0}})}},appPopup:{create:function(){var e=document.body,t=document.createElement("div");t.id="HQBox_Apppopup",t.className="hqbox-apppopup",t.style.display="none",e.appendChild(t),this.creatMask(),this.creatBox()},destory:function(){var e=document.body,t=document.getElementById("HQBox_Apppopup");e.removeChild(t)},open:function(t){var a=document.getElementById("HQBox_Apppopup"),n=(document.getElementById("HQBox_Apppopup_Mask"),document.getElementById("HQBox_Apppopup_Text"));e.DataUtils.setInnerText(n,t),a.style.display="block"},close:function(){document.getElementById("HQBox_Apppopup").style.display="none"},callApp:function(){var e={subname:"zxg",uatrackKey:"wap_hqcenter_callup",needOpenSource:!1,androidInstallUrl:"http://file.finance.sina.com.cn/finapp/apks/sinafinance_waphangqing.apk"};new SinaFinanceCallUp.CallUpSinaFinance(e).tryDirectCall({callpagetype:"10",position:"zxg"})},creatBox:function(){var t=this,a=document.getElementById("HQBox_Apppopup"),n=document.createElement("div");n.id="HQBox_Apppopup_Box",n.className="hqbox-apppopup-box",a.appendChild(n);n.innerHTML='<div class="hqbox-apppopup-callapp" id="HQBox_Apppopup_Callapp"><p id="HQBox_Apppopup_Text" class="hqbox-apppopup-text"></p></div><i class="hqbox-apppopup-closebtn" id="HQBox_Apppopup_CloseBtn"></i>';var o=document.getElementById("HQBox_Apppopup_CloseBtn"),s=document.getElementById("HQBox_Apppopup_Callapp");e.DataUtils.on(o,"click",function(){t.close()}),e.DataUtils.on(s,"click",function(){t.callApp()})},creatMask:function(){var e=document.getElementById("HQBox_Apppopup"),t=document.createElement("div");t.id="HQBox_Apppopup_Mask",t.className="hqbox-apppopup-mask",e.appendChild(t)}},lseCode:function(e){return e.replace(/[^0-9a-z_]/gi,function(e){return"$"+e.charCodeAt(0).toString(16)})}}}(),function(e){function t(t){var n="hqccall"+a(),o=document.getElementsByTagName("head")[0],s=document.createElement("script"),i=function(e){var t=[];for(var a in e)t.push(a+"="+e[a]);return encodeURI(t.join("&"))}(t.data)||"",r=t.success,l=t.jsoncallback?"&callback="+n:"",c=t.url;s.src=c+i+l,s.type="text/javascript",s.onload=s.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(l||r(),s.onload=s.onreadystatechange=null,o.removeChild(s))},o.appendChild(s),l&&(e[n]=function(t){r&&r(t.result),delete e[n]})}function a(){return Math.floor(1234567890*Math.random()+1)+Math.floor(9876543210*Math.random()+1)}function n(e,t,a){var n,o=Array.prototype.slice.call(arguments,3);return a=void 0!==a?a:20,function(){t=t||this,clearTimeout(n),n=setTimeout(function(){clearTimeout(n),e.apply(t,o)},a)}}function o(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)}function s(e,t){var a=e;if(a.className=" "+a.className+" ",-1!==a.className.indexOf(" "+t+" "))return!1;a.className+=t}function i(e,t){var a=e;a.className=a.className.replace(t,"")}var r=e.HQ;r.DataSearch=function(){this._SNodes={},this._Events={},this._TypeCode="11,12,31,32,33,41,71,73,85,86,100",this._href=r.DataHref,this._init()},r.DataSearch.prototype={constructor:r.DataSearch,_init:function(){this._createSearch(),this._bindEvents()},_createSearch:function(){var e=this,t=document.body,a=this._SNodes._SBox=document.createElement("section");a.id="HQ_Search",a.className="hqapps-search",t.appendChild(a),e._createForm(),e._createList()},_createForm:function(){var e=this,t=e._SNodes._SBox,a=document.createElement("div");a.className="hqapps-search-form",t.appendChild(a),a.innerHTML='<div class="btn-cancel" id="HQ_Search_Canclebtn"></div><div class="search-box"><form action="" id="HQ_Search_Form"><input class="ipt-search" type="search" placeholder="\u7b80\u79f0/\u4ee3\u7801/\u62fc\u97f3" id="HQ_Search_Ipt"></form></div><div class="btn-search" id="HQ_Search_Gobtn">\u641c\u7d22</div>',e._SNodes._SIpt=document.getElementById("HQ_Search_Ipt"),e._SNodes._SForm=document.getElementById("HQ_Search_Form"),e._SNodes._SGobtn=document.getElementById("HQ_Search_Gobtn"),e._SNodes._SCanclebtn=document.getElementById("HQ_Search_Canclebtn")},_createList:function(){var e=this,t=e._SNodes._SBox,a=document.createElement("div");a.id="HQ_Search_List",a.className="hqapps-search-list",t.appendChild(a),e._SNodes._SList=document.getElementById("HQ_Search_List")},_bindEvents:function(){var e=this,t=e._SNodes,a=e._Events;a.triggerSearch=function(){t._SIpt.value.trim()&&e._triggerSearch()},o(t._SGobtn,"click",function(){a.triggerSearch()}),o(t._SForm,"submit",function(){a.triggerSearch()}),o(t._SCanclebtn,"click",function(){e.close()}),a.realTimeSearch=function(){e._fetchData(this.value)},o(t._SIpt,"input",n(a.realTimeSearch,null,100))},_triggerSearch:function(){var t=this,a=t._SNodes,n="";a._SList.querySelectorAll(".item").length&&(n=a._SList.querySelectorAll(".item")[0].getAttribute("href")),n&&e.open(n)},_fetchData:function(n){var o=this,s=(o._SNodes,"suggest3_"+a()),i="//suggest3.sinajs.cn/suggest/";n=n.trim().toLowerCase(),i=i+"type="+o._TypeCode+"&key="+n+"&name="+s,n&&t({url:i,success:function(){o._renderResult(e[s])}})},_renderResult:function(e){var t=this,a="";e&&e.split(";").forEach(function(e,n){var o,s,i,r=e.split(","),l=r[1],c=r[2],u=r[4];encodeURIComponent(name);if(l)switch(l){case"11":case"12":o="\u6caa\u6df1",s=t._href.stock+r[3];break;case"31":case"32":case"33":o="\u6e2f\u80a1",s=t._href.hkstock+c;break;case"41":o="\u7f8e\u80a1",s=t._href.usstock+c;break;case"71":o="\u5916\u6c47",s=t._href.forex+c;break;case"73":o="\u65b0\u4e09\u677f",s=t._href.sanban+c;break;case"85":o="\u5185\u76d8",s=t._href.nfutures+c;break;case"86":o="\u5916\u76d8",s=t._href.hfutures+c;break;case"100":o="\u5168\u7403\u6307\u6570",s=t._href.znb+c;break;default:o="\u5176\u4ed6"}i='<div class="stock-type">'+o+'</div><div class="name">'+u+'</div><div class="code">'+c+"</div>",s=s||"//stock1.sina.cn/prog/wapsite/stock/v2/search.php?type=1&keyword="+encodeName,a+='<a class="item" href="'+s+'">'+i+"</a>"}),t._SNodes._SList.innerHTML=a},open:function(){var t=this,a=t._SNodes;a._SBox&&(e.scrollTo(0,0),s(a._SBox,"hqapps-active"),a._SIpt.focus(),document.body.style.height=e.innerHeight+"px",document.body.style.overflow="hidden")},close:function(){var e=this;i(e._SNodes._SBox,"hqapps-active"),e.empty(),document.body.style.height="auto",document.body.style.overflow="visible"},empty:function(){var e=this,t=e._SNodes;t._SIpt.value="",t._SList.innerHTML=""}}}(window),function(e){e.HQ.DataUtils={jsonp:function(t){var a="hqccall"+this.random(),n=document.getElementsByTagName("head")[0],o=document.createElement("script"),s=function(e){var t=[];for(var a in e)t.push(a+"="+e[a]);return encodeURI(t.join("&"))}(t.data)||"",i=t.success,r=t.jsoncallback?"&callback="+a:"",l=t.url;o.src=l+s+r,o.type="text/javascript",o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r||i(),o.onload=o.onreadystatechange=null,n.removeChild(o))},n.appendChild(o),r&&(e[a]=function(t){i&&i(t.result),delete e[a]})},getInnerText:function(e){return"String"==typeof e.textContent?e.textContent:e.innerText},setInnerText:function(e,t){"String"==typeof e.textContent?e.textContent=t:e.innerText=t},on:function(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)},random:function(){return Math.floor(1234567890*Math.random()+1)+Math.floor(9876543210*Math.random()+1)},viewData:function(){var t=0,a=0,n=0,o=0,s=0,i=0,r=e,l=document,c=l.documentElement;return t=r.innerWidth||c.clientWidth||l.body.clientWidth||0,a=r.innerHeight||c.clientHeight||l.body.clientHeight||0,o=l.body.scrollTop||c.scrollTop||r.pageYOffset,n=l.body.scrollLeft||c.scrollLeft||r.pageXOffset,s=Math.max(l.body.scrollWidth,c.scrollWidth||0),i=Math.max(l.body.scrollHeight,c.scrollHeight||0,a),{scrollTop:o,scrollLeft:n,documentWidth:s,documentHeight:i,viewWidth:t,viewHeight:a}}}}(window);